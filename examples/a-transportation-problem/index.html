
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A powerful Python library for operations research. Define, solve, and interact with  mathematical models in a standardized manner across different optimization packages.">
      
      
        <meta name="author" content="Isaac Da Pena & Manuel Da Pena">
      
      
        <link rel="canonical" href="https://dapensoft.github.io/pyorlib/examples/a-transportation-problem/">
      
      
        <link rel="prev" href="../">
      
      
        <link rel="next" href="../../api/">
      
      
      <link rel="icon" href="../../images/favicon/pyorlib-logo.ico">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.12">
    
    
      
        <title>A Transportation Model - PyORlib</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e359304.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../css/timeago.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="pink" data-md-color-accent="amber">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#a-transportation-problem" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="PyORlib" class="md-header__button md-logo" aria-label="PyORlib" data-md-component="logo">
      
  <img src="../../images/logo/pyorlib-logo-white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            PyORlib
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              A Transportation Model
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="pink" data-md-color-accent="amber"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="pink" data-md-color-accent="amber"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/dapensoft/pyorlib" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    dapensoft/pyorlib
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  PyORlib

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../getting-started/" class="md-tabs__link">
        
  
    
  
  Getting Started

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
    
  
  Examples

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../api/" class="md-tabs__link">
          
  
    
  
  API Reference

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../contributing/" class="md-tabs__link">
        
  
    
  
  Contributing

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../release-notes/" class="md-tabs__link">
        
  
    
  
  Release Notes

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="PyORlib" class="md-nav__button md-logo" aria-label="PyORlib" data-md-component="logo">
      
  <img src="../../images/logo/pyorlib-logo-white.svg" alt="logo">

    </a>
    PyORlib
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/dapensoft/pyorlib" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    dapensoft/pyorlib
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PyORlib
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Examples
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    A Transportation Model
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    A Transportation Model
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#problem-formulation" class="md-nav__link">
    <span class="md-ellipsis">
      Problem Formulation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#solution-using-pyorlib" class="md-nav__link">
    <span class="md-ellipsis">
      Solution Using PyORlib
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#recap" class="md-nav__link">
    <span class="md-ellipsis">
      Recap
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../api/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../api/model/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Model
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Model
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../api/engines/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Engine
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Engine
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/engines/cplex/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CPLEX Engine
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/engines/gurobi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gurobi Engine
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/engines/ortools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OR-Tools Engine
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/engines/pulp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PuLP Engine
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../api/algebra/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Algebra
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            Algebra
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/algebra/element/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Element
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/algebra/expressions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Expression
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_4_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../api/algebra/terms/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Term
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_4_4" id="__nav_4_4_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_4">
            <span class="md-nav__icon md-icon"></span>
            Term
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/algebra/terms/constant/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Constant
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/algebra/terms/variable/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Variable
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../api/structures/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Structures
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            Structures
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_5_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../api/structures/definitions/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Definitions
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_5_2" id="__nav_4_5_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5_2">
            <span class="md-nav__icon md-icon"></span>
            Definitions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/structures/definitions/dimension-definition/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dimension Definition
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/structures/definitions/term-definition/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Term Definition
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/structures/definitions/parameter-definition/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Parameter Definition
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_5_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../api/structures/parameters/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Parameter
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_5_3" id="__nav_4_5_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5_3">
            <span class="md-nav__icon md-icon"></span>
            Parameter
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/structures/parameters/single-value-parameter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Single Value Parameter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/structures/parameters/multi-value-parameter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Multi Value Parameter
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../api/validators/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Validators
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_6" id="__nav_4_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6">
            <span class="md-nav__icon md-icon"></span>
            Validators
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/validators/value-type-validator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Value Type Validator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/validators/fields/dimension-field/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dimension Field
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/validators/fields/parameter-field/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Parameter Field
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../api/enums/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Enums
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_7" id="__nav_4_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_7">
            <span class="md-nav__icon md-icon"></span>
            Enums
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/enums/optimization-type/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Optimization Type
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/enums/parameter-type/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Parameter Type
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/enums/solution-status/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Solution Status
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/enums/term-type/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Term Type
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/enums/value-type/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Value Type
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../api/exceptions/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Exceptions
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_8" id="__nav_4_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_8">
            <span class="md-nav__icon md-icon"></span>
            Exceptions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/exceptions/term-exception/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Term Exception
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/exceptions/cplex-exception/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CPLEX Exception
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/exceptions/gurobi-exception/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gurobi Exception
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/exceptions/ortools-exception/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ortools Exception
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/exceptions/pulp-exception/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pulp Exception
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/exceptions/model-exception/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model Exception
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Release Notes
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#problem-formulation" class="md-nav__link">
    <span class="md-ellipsis">
      Problem Formulation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#solution-using-pyorlib" class="md-nav__link">
    <span class="md-ellipsis">
      Solution Using PyORlib
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#recap" class="md-nav__link">
    <span class="md-ellipsis">
      Recap
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="a-transportation-problem">A Transportation Problem<a class="headerlink" href="#a-transportation-problem" title="Permanent link">&para;</a></h1>
<p style="text-align: justify;">
    &emsp;&emsp;This tutorial is an upgrade of the <a href="https://dapensoft.github.io/pyorlib/#a-practical-example" target="_blank">Practical Example</a> 
    from the main page. In this case, we are going to re-implement the transportation problem presented in the 
    <a href="https://www.gams.com/docs/pdf/Tutorial.PDF" target="_blank">GAMS Tutorial</a> by Richard E. Rosenthal 
    using PyORlin's workflow. The purpose of this example is to provide a quick but complete overview of PyORlib and
    its features in a more realistic scenario.
</p>
<h3 id="problem-formulation">Problem Formulation<a class="headerlink" href="#problem-formulation" title="Permanent link">&para;</a></h3>
<p style='text-align: justify;'>
    &emsp;&emsp;The transportation problem we will address is a classic instance of linear programming's transportation
    problem, which has historically served as a testing ground for the development of optimization technology. This 
    transportation problem involves determining the optimal flow of a product from multiple sources (plants) to 
    destinations (markets) to minimize costs while satisfying demands.
</p>

<div class="arithmatex">\[
\begin{align}
\text{Minimize:} \quad &amp; \sum_{i=1}^{n} \sum_{j=1}^{m} c_{ij} x_{ij} \\
\\
\text{Subject to:} \quad &amp; \sum_{j=1}^{m} x_{ij} \leq a_{i} \quad \forall_{i} \\
&amp; \sum_{i=1}^{n} x_{ij} \geq b_{j} \quad \forall_{j} \\
&amp; x_{ij} \geq 0 \quad \forall_{ij}, \thinspace integer \\
&amp; i=1,...,n; \quad j=1,...,m \\
\end{align}
\]</div>
<p style='text-align: justify;'>
    &emsp;&emsp;Before diving into the implementation, let's take a moment to familiarize ourselves with the key 
    components of the model. This brief exploration will provide a better understanding of how these components 
    work together.
</p>

<ul>
<li>
<p><strong>Indices:</strong></p>
<p>&emsp;<span class="arithmatex">\(i=\)</span> plants; <span class="arithmatex">\(\quad j=\)</span> markets.</p>
</li>
<li>
<p><strong>Parameters (Given Data):</strong></p>
<p>&emsp;<span class="arithmatex">\(a_{i}=\)</span> supply of commodity of plant <span class="arithmatex">\(i\)</span> (in cases).</p>
<p>&emsp;<span class="arithmatex">\(b_{j}=\)</span> demand for commodity at market <span class="arithmatex">\(j\)</span> (cases).</p>
<p>&emsp;<span class="arithmatex">\(c_{ij}=\)</span> cost per unit shipment between plan <span class="arithmatex">\(i\)</span> and market <span class="arithmatex">\(j\)</span> ($/case).</p>
</li>
<li>
<p><strong>Decision Variables:</strong></p>
<p>&emsp;<span class="arithmatex">\(x_{ij}=\)</span> amount of commodity to ship from plant <span class="arithmatex">\(i\)</span> to market <span class="arithmatex">\(j\)</span> (cases).</p>
</li>
<li>
<p><strong>Constraints:</strong></p>
<p>&emsp;Observe supply limit at plant <span class="arithmatex">\(i\)</span>: <span class="arithmatex">\(\sum_{j=1}^{m} x_{ij} \leq a_{i} \quad \forall_{i}\)</span></p>
<p>&emsp;Satisfy demand at market <span class="arithmatex">\(j\)</span>: <span class="arithmatex">\(\sum_{i=1}^{n} x_{ij} \geq b_{j} \quad \forall_{j}\)</span></p>
</li>
</ul>
<p style='text-align: justify;'>
    &emsp;&emsp;The GAMS tutorial describes a scenario with two canning plants and three markets. It provides sample 
    supply, demand and cost data. We will use this same data to define our model.
</p>

<table align="center">
    <thead>
        <tr>
            <th></th>
            <th>New York</th>
            <th>Chicago</th>
            <th>Topeka</th>
            <th>Supply</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>Seattle</td>
            <td>2.5</td>
            <td>1.7</td>
            <td>1.8</td>
            <td>350</td>
        </tr>
        <tr>
            <td>San Diego</td>
            <td>2.5</td>
            <td>1.8</td>
            <td>1.4</td>
            <td>600</td>
        </tr>
        <tr>
            <td>Demand</td>
            <td>325</td>
            <td>300</td>
            <td>275</td>
            <td></td>
        </tr>
        <tr>
            <td style="text-align: center" colspan="5">
                <a href="https://miro.gams.com/gallery/app_direct/transport/" target="_blank">
                    <img src="../../images/examples/practical-example-graph.png" alt="A Transportation Problem">
                </a>
            </td>
        </tr>
    </tbody>
</table>

<h3 id="solution-using-pyorlib">Solution Using PyORlib<a class="headerlink" href="#solution-using-pyorlib" title="Permanent link">&para;</a></h3>
<p style='text-align: justify;'>
    &emsp;&emsp;To model and solve the problem in Python, we will utilize PyORlib and its integration with CPLEX. 
    However, it's worth noting that you have the flexibility to choose from various supported optimization engine 
    integrations mentioned in the <a href="https://dapensoft.github.io/pyorlib/getting-started/#optional-dependencies" target="_blank">Optional Dependencies</a> 
    section, or even use your own custom implementations.
</p>

<ol style='text-align: justify;'>

<li><b>Required Imports and Dependencies:</b>
Before proceeding, make sure you have PyORlib installed, along with the CPLEX engine integration. Once everything is 
set up, let's import all the necessary components and start building our transportation model:

<div class="language-Python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span>
<span class="normal"><a href="#__codelineno-0-2">2</a></span>
<span class="normal"><a href="#__codelineno-0-3">3</a></span>
<span class="normal"><a href="#__codelineno-0-4">4</a></span>
<span class="normal"><a href="#__codelineno-0-5">5</a></span>
<span class="normal"><a href="#__codelineno-0-6">6</a></span>
<span class="normal"><a href="#__codelineno-0-7">7</a></span>
<span class="normal"><a href="#__codelineno-0-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">inf</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3"></a>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="kn">from</span> <span class="nn">pyorlib</span> <span class="kn">import</span> <span class="n">Model</span><span class="p">,</span> <span class="n">Engine</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="kn">from</span> <span class="nn">pyorlib.engines.cplex</span> <span class="kn">import</span> <span class="n">CplexEngine</span>  <span class="c1"># Can be replaced with other integration options.</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="kn">from</span> <span class="nn">pyorlib.enums</span> <span class="kn">import</span> <span class="n">ValueType</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">,</span> <span class="n">OptimizationType</span>  <span class="c1"># These enums are used for specifying value types, parameter types, and optimization types in PyORlib.</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7"></a><span class="kn">from</span> <span class="nn">pyorlib.structures</span> <span class="kn">import</span> <span class="n">DimensionDefinition</span><span class="p">,</span> <span class="n">ParameterDefinition</span><span class="p">,</span> <span class="n">TermDefinition</span><span class="p">,</span> <span class="n">MultiValueParameter</span>  <span class="c1"># Classes that are used for organizing and defining the structure of the model.</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8"></a><span class="kn">from</span> <span class="nn">pyorlib.validators</span> <span class="kn">import</span> <span class="n">DimensionField</span><span class="p">,</span> <span class="n">ParameterField</span>  <span class="c1"># Classes that are used for validating the dimensions and parameters of the model.</span>
</span></code></pre></div></td></tr></table></div>
</li>

<li><b>Model Definition:</b>
In order to keep our code organized, readable, and maintainable over time, we will structure variable, parameter, and 
dimension definitions (metadata) in a clean and extensible manner using PyORlib's definition module.

<div class="language-Python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-1-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-1-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-1-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-1-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-1-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-1-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-1-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-1-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-1-10">10</a></span>
<span class="normal"><a href="#__codelineno-1-11">11</a></span>
<span class="normal"><a href="#__codelineno-1-12">12</a></span>
<span class="normal"><a href="#__codelineno-1-13">13</a></span>
<span class="normal"><a href="#__codelineno-1-14">14</a></span>
<span class="normal"><a href="#__codelineno-1-15">15</a></span>
<span class="normal"><a href="#__codelineno-1-16">16</a></span>
<span class="normal"><a href="#__codelineno-1-17">17</a></span>
<span class="normal"><a href="#__codelineno-1-18">18</a></span>
<span class="normal"><a href="#__codelineno-1-19">19</a></span>
<span class="normal"><a href="#__codelineno-1-20">20</a></span>
<span class="normal"><a href="#__codelineno-1-21">21</a></span>
<span class="normal"><a href="#__codelineno-1-22">22</a></span>
<span class="normal"><a href="#__codelineno-1-23">23</a></span>
<span class="normal"><a href="#__codelineno-1-24">24</a></span>
<span class="normal"><a href="#__codelineno-1-25">25</a></span>
<span class="normal"><a href="#__codelineno-1-26">26</a></span>
<span class="normal"><a href="#__codelineno-1-27">27</a></span>
<span class="normal"><a href="#__codelineno-1-28">28</a></span>
<span class="normal"><a href="#__codelineno-1-29">29</a></span>
<span class="normal"><a href="#__codelineno-1-30">30</a></span>
<span class="normal"><a href="#__codelineno-1-31">31</a></span>
<span class="normal"><a href="#__codelineno-1-32">32</a></span>
<span class="normal"><a href="#__codelineno-1-33">33</a></span>
<span class="normal"><a href="#__codelineno-1-34">34</a></span>
<span class="normal"><a href="#__codelineno-1-35">35</a></span>
<span class="normal"><a href="#__codelineno-1-36">36</a></span>
<span class="normal"><a href="#__codelineno-1-37">37</a></span>
<span class="normal"><a href="#__codelineno-1-38">38</a></span>
<span class="normal"><a href="#__codelineno-1-39">39</a></span>
<span class="normal"><a href="#__codelineno-1-40">40</a></span>
<span class="normal"><a href="#__codelineno-1-41">41</a></span>
<span class="normal"><a href="#__codelineno-1-42">42</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="k">class</span> <span class="nc">TransportModelDefinition</span><span class="p">:</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Transportation Nomenclature Definitions&quot;&quot;&quot;</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3"></a>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4"></a>    <span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5"></a>    <span class="k">class</span> <span class="nc">Dimensions</span><span class="p">:</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6"></a>        <span class="n">n</span> <span class="o">=</span> <span class="n">DimensionDefinition</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;n&quot;</span><span class="p">,</span> <span class="n">display_name</span><span class="o">=</span><span class="s2">&quot;Total plants&quot;</span><span class="p">)</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7"></a>        <span class="n">m</span> <span class="o">=</span> <span class="n">DimensionDefinition</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;m&quot;</span><span class="p">,</span> <span class="n">display_name</span><span class="o">=</span><span class="s2">&quot;Total markets&quot;</span><span class="p">)</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8"></a>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9"></a>    <span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10"></a>    <span class="k">class</span> <span class="nc">Parameters</span><span class="p">:</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11"></a>        <span class="n">a_i</span> <span class="o">=</span> <span class="n">ParameterDefinition</span><span class="p">(</span>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12"></a>            <span class="n">set_name</span><span class="o">=</span><span class="s2">&quot;a_i&quot;</span><span class="p">,</span>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13"></a>            <span class="n">name</span><span class="o">=</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;a_</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14"></a>            <span class="n">display_name</span><span class="o">=</span><span class="s2">&quot;Supply of commodity of plant i (in cases)&quot;</span><span class="p">,</span>
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15"></a>            <span class="n">parameter_types</span><span class="o">=</span><span class="p">{</span><span class="n">ParameterType</span><span class="o">.</span><span class="n">FIXED</span><span class="p">},</span>
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16"></a>            <span class="n">value_types</span><span class="o">=</span><span class="p">{</span><span class="n">ValueType</span><span class="o">.</span><span class="n">INTEGER</span><span class="p">},</span>
</span><span id="__span-1-17"><a id="__codelineno-1-17" name="__codelineno-1-17"></a>            <span class="nb">min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-1-18"><a id="__codelineno-1-18" name="__codelineno-1-18"></a>        <span class="p">)</span>
</span><span id="__span-1-19"><a id="__codelineno-1-19" name="__codelineno-1-19"></a>        <span class="n">b_j</span> <span class="o">=</span> <span class="n">ParameterDefinition</span><span class="p">(</span>
</span><span id="__span-1-20"><a id="__codelineno-1-20" name="__codelineno-1-20"></a>            <span class="n">set_name</span><span class="o">=</span><span class="s2">&quot;b_j&quot;</span><span class="p">,</span>
</span><span id="__span-1-21"><a id="__codelineno-1-21" name="__codelineno-1-21"></a>            <span class="n">name</span><span class="o">=</span><span class="k">lambda</span> <span class="n">j</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;b_</span><span class="si">{</span><span class="n">j</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="__span-1-22"><a id="__codelineno-1-22" name="__codelineno-1-22"></a>            <span class="n">display_name</span><span class="o">=</span><span class="s2">&quot;Demand for commodity at market j (cases)&quot;</span><span class="p">,</span>
</span><span id="__span-1-23"><a id="__codelineno-1-23" name="__codelineno-1-23"></a>            <span class="n">parameter_types</span><span class="o">=</span><span class="p">{</span><span class="n">ParameterType</span><span class="o">.</span><span class="n">FIXED</span><span class="p">},</span>
</span><span id="__span-1-24"><a id="__codelineno-1-24" name="__codelineno-1-24"></a>            <span class="n">value_types</span><span class="o">=</span><span class="p">{</span><span class="n">ValueType</span><span class="o">.</span><span class="n">INTEGER</span><span class="p">},</span>
</span><span id="__span-1-25"><a id="__codelineno-1-25" name="__codelineno-1-25"></a>            <span class="nb">min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-1-26"><a id="__codelineno-1-26" name="__codelineno-1-26"></a>        <span class="p">)</span>
</span><span id="__span-1-27"><a id="__codelineno-1-27" name="__codelineno-1-27"></a>        <span class="n">c_i_j</span> <span class="o">=</span> <span class="n">ParameterDefinition</span><span class="p">(</span>
</span><span id="__span-1-28"><a id="__codelineno-1-28" name="__codelineno-1-28"></a>            <span class="n">set_name</span><span class="o">=</span><span class="s2">&quot;c_i_j&quot;</span><span class="p">,</span>
</span><span id="__span-1-29"><a id="__codelineno-1-29" name="__codelineno-1-29"></a>            <span class="n">name</span><span class="o">=</span><span class="k">lambda</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;c_</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">j</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="__span-1-30"><a id="__codelineno-1-30" name="__codelineno-1-30"></a>            <span class="n">display_name</span><span class="o">=</span><span class="s2">&quot;Cost per unit shipment between plan i and market j ($/case)&quot;</span><span class="p">,</span>
</span><span id="__span-1-31"><a id="__codelineno-1-31" name="__codelineno-1-31"></a>            <span class="n">parameter_types</span><span class="o">=</span><span class="p">{</span><span class="n">ParameterType</span><span class="o">.</span><span class="n">FIXED</span><span class="p">},</span>
</span><span id="__span-1-32"><a id="__codelineno-1-32" name="__codelineno-1-32"></a>            <span class="n">value_types</span><span class="o">=</span><span class="p">{</span><span class="n">ValueType</span><span class="o">.</span><span class="n">CONTINUOUS</span><span class="p">},</span>
</span><span id="__span-1-33"><a id="__codelineno-1-33" name="__codelineno-1-33"></a>            <span class="nb">min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-1-34"><a id="__codelineno-1-34" name="__codelineno-1-34"></a>        <span class="p">)</span>
</span><span id="__span-1-35"><a id="__codelineno-1-35" name="__codelineno-1-35"></a>
</span><span id="__span-1-36"><a id="__codelineno-1-36" name="__codelineno-1-36"></a>    <span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-1-37"><a id="__codelineno-1-37" name="__codelineno-1-37"></a>    <span class="k">class</span> <span class="nc">DecisionVariables</span><span class="p">:</span>
</span><span id="__span-1-38"><a id="__codelineno-1-38" name="__codelineno-1-38"></a>        <span class="n">x_i_j</span> <span class="o">=</span> <span class="n">TermDefinition</span><span class="p">(</span>
</span><span id="__span-1-39"><a id="__codelineno-1-39" name="__codelineno-1-39"></a>            <span class="n">set_name</span><span class="o">=</span><span class="s2">&quot;x_i_j&quot;</span><span class="p">,</span>
</span><span id="__span-1-40"><a id="__codelineno-1-40" name="__codelineno-1-40"></a>            <span class="n">name</span><span class="o">=</span><span class="k">lambda</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;x_</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">j</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="__span-1-41"><a id="__codelineno-1-41" name="__codelineno-1-41"></a>            <span class="n">display_name</span><span class="o">=</span><span class="s2">&quot;Amount of commodity to ship from plant i to market j (cases)&quot;</span><span class="p">,</span>
</span><span id="__span-1-42"><a id="__codelineno-1-42" name="__codelineno-1-42"></a>        <span class="p">)</span>
</span></code></pre></div></td></tr></table></div>
</li>

<li><b>Data Schema and Validations:</b>
Now that we have defined the model components, we can focus on handling data entry and validations for parameters and
dimensions. For this task, we will use PyORlib's structures and validators.

<div class="language-Python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-2-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-2-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-2-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-2-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-2-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-2-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-2-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-2-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-2-10">10</a></span>
<span class="normal"><a href="#__codelineno-2-11">11</a></span>
<span class="normal"><a href="#__codelineno-2-12">12</a></span>
<span class="normal"><a href="#__codelineno-2-13">13</a></span>
<span class="normal"><a href="#__codelineno-2-14">14</a></span>
<span class="normal"><a href="#__codelineno-2-15">15</a></span>
<span class="normal"><a href="#__codelineno-2-16">16</a></span>
<span class="normal"><a href="#__codelineno-2-17">17</a></span>
<span class="normal"><a href="#__codelineno-2-18">18</a></span>
<span class="normal"><a href="#__codelineno-2-19">19</a></span>
<span class="normal"><a href="#__codelineno-2-20">20</a></span>
<span class="normal"><a href="#__codelineno-2-21">21</a></span>
<span class="normal"><a href="#__codelineno-2-22">22</a></span>
<span class="normal"><a href="#__codelineno-2-23">23</a></span>
<span class="normal"><a href="#__codelineno-2-24">24</a></span>
<span class="normal"><a href="#__codelineno-2-25">25</a></span>
<span class="normal"><a href="#__codelineno-2-26">26</a></span>
<span class="normal"><a href="#__codelineno-2-27">27</a></span>
<span class="normal"><a href="#__codelineno-2-28">28</a></span>
<span class="normal"><a href="#__codelineno-2-29">29</a></span>
<span class="normal"><a href="#__codelineno-2-30">30</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="nd">@dataclass</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="k">class</span> <span class="nc">TransportModelSchema</span><span class="p">:</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Data Entry Validations&quot;&quot;&quot;</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4"></a>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5"></a>    <span class="n">n</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DimensionField</span><span class="p">(</span><span class="nb">min</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Dimensions</span><span class="o">.</span><span class="n">n</span><span class="o">.</span><span class="n">min</span><span class="p">)</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6"></a>    <span class="n">m</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DimensionField</span><span class="p">(</span><span class="nb">min</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Dimensions</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">min</span><span class="p">)</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7"></a>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8"></a>    <span class="n">a_i</span><span class="p">:</span> <span class="n">MultiValueParameter</span> <span class="o">=</span> <span class="n">ParameterField</span><span class="p">(</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9"></a>        <span class="n">parameter_types</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Parameters</span><span class="o">.</span><span class="n">a_i</span><span class="o">.</span><span class="n">parameter_types</span><span class="p">,</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10"></a>        <span class="n">value_types</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Parameters</span><span class="o">.</span><span class="n">a_i</span><span class="o">.</span><span class="n">value_types</span><span class="p">,</span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11"></a>        <span class="nb">min</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Parameters</span><span class="o">.</span><span class="n">a_i</span><span class="o">.</span><span class="n">min</span><span class="p">,</span>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12"></a>    <span class="p">)</span>
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13"></a>    <span class="n">b_j</span><span class="p">:</span> <span class="n">MultiValueParameter</span> <span class="o">=</span> <span class="n">ParameterField</span><span class="p">(</span>
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14"></a>        <span class="n">parameter_types</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Parameters</span><span class="o">.</span><span class="n">b_j</span><span class="o">.</span><span class="n">parameter_types</span><span class="p">,</span>
</span><span id="__span-2-15"><a id="__codelineno-2-15" name="__codelineno-2-15"></a>        <span class="n">value_types</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Parameters</span><span class="o">.</span><span class="n">b_j</span><span class="o">.</span><span class="n">value_types</span><span class="p">,</span>
</span><span id="__span-2-16"><a id="__codelineno-2-16" name="__codelineno-2-16"></a>        <span class="nb">min</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Parameters</span><span class="o">.</span><span class="n">b_j</span><span class="o">.</span><span class="n">min</span><span class="p">,</span>
</span><span id="__span-2-17"><a id="__codelineno-2-17" name="__codelineno-2-17"></a>    <span class="p">)</span>
</span><span id="__span-2-18"><a id="__codelineno-2-18" name="__codelineno-2-18"></a>    <span class="n">c_i_j</span><span class="p">:</span> <span class="n">MultiValueParameter</span> <span class="o">=</span> <span class="n">ParameterField</span><span class="p">(</span>
</span><span id="__span-2-19"><a id="__codelineno-2-19" name="__codelineno-2-19"></a>        <span class="n">parameter_types</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Parameters</span><span class="o">.</span><span class="n">c_i_j</span><span class="o">.</span><span class="n">parameter_types</span><span class="p">,</span>
</span><span id="__span-2-20"><a id="__codelineno-2-20" name="__codelineno-2-20"></a>        <span class="n">value_types</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Parameters</span><span class="o">.</span><span class="n">c_i_j</span><span class="o">.</span><span class="n">value_types</span><span class="p">,</span>
</span><span id="__span-2-21"><a id="__codelineno-2-21" name="__codelineno-2-21"></a>        <span class="nb">min</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Parameters</span><span class="o">.</span><span class="n">c_i_j</span><span class="o">.</span><span class="n">min</span><span class="p">,</span>
</span><span id="__span-2-22"><a id="__codelineno-2-22" name="__codelineno-2-22"></a>    <span class="p">)</span>
</span><span id="__span-2-23"><a id="__codelineno-2-23" name="__codelineno-2-23"></a>
</span><span id="__span-2-24"><a id="__codelineno-2-24" name="__codelineno-2-24"></a>    <span class="k">def</span> <span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-2-25"><a id="__codelineno-2-25" name="__codelineno-2-25"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a_i</span><span class="o">.</span><span class="n">values</span><span class="p">)</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="p">:</span>
</span><span id="__span-2-26"><a id="__codelineno-2-26" name="__codelineno-2-26"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&#39;a_i&#39; values must have a length of </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-2-27"><a id="__codelineno-2-27" name="__codelineno-2-27"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">b_j</span><span class="o">.</span><span class="n">values</span><span class="p">)</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="p">:</span>
</span><span id="__span-2-28"><a id="__codelineno-2-28" name="__codelineno-2-28"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&#39;b_j&#39; values must have a length of </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-2-29"><a id="__codelineno-2-29" name="__codelineno-2-29"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">c_i_j</span><span class="o">.</span><span class="n">values</span><span class="p">)</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">n</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="p">:</span>
</span><span id="__span-2-30"><a id="__codelineno-2-30" name="__codelineno-2-30"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&#39;c_i_j&#39; values must have a length of </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></code></pre></div></td></tr></table></div>
</li>

<li><b>Transportation Model:</b>
With the data entry schema in place, we can now define the transportation model.

<div class="language-Python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-3-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-3-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-3-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-3-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-3-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-3-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-3-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-3-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-3-10">10</a></span>
<span class="normal"><a href="#__codelineno-3-11">11</a></span>
<span class="normal"><a href="#__codelineno-3-12">12</a></span>
<span class="normal"><a href="#__codelineno-3-13">13</a></span>
<span class="normal"><a href="#__codelineno-3-14">14</a></span>
<span class="normal"><a href="#__codelineno-3-15">15</a></span>
<span class="normal"><a href="#__codelineno-3-16">16</a></span>
<span class="normal"><a href="#__codelineno-3-17">17</a></span>
<span class="normal"><a href="#__codelineno-3-18">18</a></span>
<span class="normal"><a href="#__codelineno-3-19">19</a></span>
<span class="normal"><a href="#__codelineno-3-20">20</a></span>
<span class="normal"><a href="#__codelineno-3-21">21</a></span>
<span class="normal"><a href="#__codelineno-3-22">22</a></span>
<span class="normal"><a href="#__codelineno-3-23">23</a></span>
<span class="normal"><a href="#__codelineno-3-24">24</a></span>
<span class="normal"><a href="#__codelineno-3-25">25</a></span>
<span class="normal"><a href="#__codelineno-3-26">26</a></span>
<span class="normal"><a href="#__codelineno-3-27">27</a></span>
<span class="normal"><a href="#__codelineno-3-28">28</a></span>
<span class="normal"><a href="#__codelineno-3-29">29</a></span>
<span class="normal"><a href="#__codelineno-3-30">30</a></span>
<span class="normal"><a href="#__codelineno-3-31">31</a></span>
<span class="normal"><a href="#__codelineno-3-32">32</a></span>
<span class="normal"><a href="#__codelineno-3-33">33</a></span>
<span class="normal"><a href="#__codelineno-3-34">34</a></span>
<span class="normal"><a href="#__codelineno-3-35">35</a></span>
<span class="normal"><a href="#__codelineno-3-36">36</a></span>
<span class="normal"><a href="#__codelineno-3-37">37</a></span>
<span class="normal"><a href="#__codelineno-3-38">38</a></span>
<span class="normal"><a href="#__codelineno-3-39">39</a></span>
<span class="normal"><a href="#__codelineno-3-40">40</a></span>
<span class="normal"><a href="#__codelineno-3-41">41</a></span>
<span class="normal"><a href="#__codelineno-3-42">42</a></span>
<span class="normal"><a href="#__codelineno-3-43">43</a></span>
<span class="normal"><a href="#__codelineno-3-44">44</a></span>
<span class="normal"><a href="#__codelineno-3-45">45</a></span>
<span class="normal"><a href="#__codelineno-3-46">46</a></span>
<span class="normal"><a href="#__codelineno-3-47">47</a></span>
<span class="normal"><a href="#__codelineno-3-48">48</a></span>
<span class="normal"><a href="#__codelineno-3-49">49</a></span>
<span class="normal"><a href="#__codelineno-3-50">50</a></span>
<span class="normal"><a href="#__codelineno-3-51">51</a></span>
<span class="normal"><a href="#__codelineno-3-52">52</a></span>
<span class="normal"><a href="#__codelineno-3-53">53</a></span>
<span class="normal"><a href="#__codelineno-3-54">54</a></span>
<span class="normal"><a href="#__codelineno-3-55">55</a></span>
<span class="normal"><a href="#__codelineno-3-56">56</a></span>
<span class="normal"><a href="#__codelineno-3-57">57</a></span>
<span class="normal"><a href="#__codelineno-3-58">58</a></span>
<span class="normal"><a href="#__codelineno-3-59">59</a></span>
<span class="normal"><a href="#__codelineno-3-60">60</a></span>
<span class="normal"><a href="#__codelineno-3-61">61</a></span>
<span class="normal"><a href="#__codelineno-3-62">62</a></span>
<span class="normal"><a href="#__codelineno-3-63">63</a></span>
<span class="normal"><a href="#__codelineno-3-64">64</a></span>
<span class="normal"><a href="#__codelineno-3-65">65</a></span>
<span class="normal"><a href="#__codelineno-3-66">66</a></span>
<span class="normal"><a href="#__codelineno-3-67">67</a></span>
<span class="normal"><a href="#__codelineno-3-68">68</a></span>
<span class="normal"><a href="#__codelineno-3-69">69</a></span>
<span class="normal"><a href="#__codelineno-3-70">70</a></span>
<span class="normal"><a href="#__codelineno-3-71">71</a></span>
<span class="normal"><a href="#__codelineno-3-72">72</a></span>
<span class="normal"><a href="#__codelineno-3-73">73</a></span>
<span class="normal"><a href="#__codelineno-3-74">74</a></span>
<span class="normal"><a href="#__codelineno-3-75">75</a></span>
<span class="normal"><a href="#__codelineno-3-76">76</a></span>
<span class="normal"><a href="#__codelineno-3-77">77</a></span>
<span class="normal"><a href="#__codelineno-3-78">78</a></span>
<span class="normal"><a href="#__codelineno-3-79">79</a></span>
<span class="normal"><a href="#__codelineno-3-80">80</a></span>
<span class="normal"><a href="#__codelineno-3-81">81</a></span>
<span class="normal"><a href="#__codelineno-3-82">82</a></span>
<span class="normal"><a href="#__codelineno-3-83">83</a></span>
<span class="normal"><a href="#__codelineno-3-84">84</a></span>
<span class="normal"><a href="#__codelineno-3-85">85</a></span>
<span class="normal"><a href="#__codelineno-3-86">86</a></span>
<span class="normal"><a href="#__codelineno-3-87">87</a></span>
<span class="normal"><a href="#__codelineno-3-88">88</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="k">class</span> <span class="nc">TransportModel</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2"></a>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">engine</span><span class="p">:</span> <span class="n">Engine</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">TransportModelSchema</span><span class="p">,</span> <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4"></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">engine</span><span class="o">=</span><span class="n">engine</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Transportation Model&quot;</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="n">debug</span><span class="p">)</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5"></a>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6"></a>        <span class="k">if</span> <span class="n">data</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;data&#39; parameter cannot be None.&quot;</span><span class="p">)</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8"></a>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9"></a><span class="hll">        <span class="c1"># Dimensions</span>
</span></span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10"></a>        <span class="n">n</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">add_dimension</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Dimensions</span><span class="o">.</span><span class="n">n</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">n</span><span class="p">)</span>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11"></a>        <span class="n">m</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">add_dimension</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Dimensions</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">m</span><span class="p">)</span>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12"></a>
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13"></a>        <span class="n">n_range</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14"></a>        <span class="n">m_range</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15"></a>
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16"></a><span class="hll">        <span class="c1"># Parameters</span>
</span></span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17"></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">n_range</span><span class="p">:</span>  <span class="c1"># Plant&#39;s supply values</span>
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">add_constant_to_set</span><span class="p">(</span>
</span><span id="__span-3-19"><a id="__codelineno-3-19" name="__codelineno-3-19"></a>                <span class="n">set_name</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Parameters</span><span class="o">.</span><span class="n">a_i</span><span class="o">.</span><span class="n">set_name</span><span class="p">,</span>
</span><span id="__span-3-20"><a id="__codelineno-3-20" name="__codelineno-3-20"></a>                <span class="n">set_index</span><span class="o">=</span><span class="p">(</span><span class="n">i</span><span class="p">,),</span>
</span><span id="__span-3-21"><a id="__codelineno-3-21" name="__codelineno-3-21"></a>                <span class="n">const_name</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Parameters</span><span class="o">.</span><span class="n">a_i</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="n">i</span><span class="p">),</span>
</span><span id="__span-3-22"><a id="__codelineno-3-22" name="__codelineno-3-22"></a>                <span class="n">value_type</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">a_i</span><span class="o">.</span><span class="n">value_type</span><span class="p">,</span>
</span><span id="__span-3-23"><a id="__codelineno-3-23" name="__codelineno-3-23"></a>                <span class="n">value</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">a_i</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span>
</span><span id="__span-3-24"><a id="__codelineno-3-24" name="__codelineno-3-24"></a>            <span class="p">)</span>
</span><span id="__span-3-25"><a id="__codelineno-3-25" name="__codelineno-3-25"></a>        <span class="n">a_i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_term_set_by_name</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Parameters</span><span class="o">.</span><span class="n">a_i</span><span class="o">.</span><span class="n">set_name</span><span class="p">)</span>
</span><span id="__span-3-26"><a id="__codelineno-3-26" name="__codelineno-3-26"></a>
</span><span id="__span-3-27"><a id="__codelineno-3-27" name="__codelineno-3-27"></a>        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">m_range</span><span class="p">:</span>  <span class="c1"># Market&#39;s demands</span>
</span><span id="__span-3-28"><a id="__codelineno-3-28" name="__codelineno-3-28"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">add_constant_to_set</span><span class="p">(</span>
</span><span id="__span-3-29"><a id="__codelineno-3-29" name="__codelineno-3-29"></a>                <span class="n">set_name</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Parameters</span><span class="o">.</span><span class="n">b_j</span><span class="o">.</span><span class="n">set_name</span><span class="p">,</span>
</span><span id="__span-3-30"><a id="__codelineno-3-30" name="__codelineno-3-30"></a>                <span class="n">set_index</span><span class="o">=</span><span class="p">(</span><span class="n">j</span><span class="p">,),</span>
</span><span id="__span-3-31"><a id="__codelineno-3-31" name="__codelineno-3-31"></a>                <span class="n">const_name</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Parameters</span><span class="o">.</span><span class="n">b_j</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="n">j</span><span class="p">),</span>
</span><span id="__span-3-32"><a id="__codelineno-3-32" name="__codelineno-3-32"></a>                <span class="n">value_type</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">b_j</span><span class="o">.</span><span class="n">value_type</span><span class="p">,</span>
</span><span id="__span-3-33"><a id="__codelineno-3-33" name="__codelineno-3-33"></a>                <span class="n">value</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">b_j</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span>
</span><span id="__span-3-34"><a id="__codelineno-3-34" name="__codelineno-3-34"></a>            <span class="p">)</span>
</span><span id="__span-3-35"><a id="__codelineno-3-35" name="__codelineno-3-35"></a>        <span class="n">b_j</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_term_set_by_name</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Parameters</span><span class="o">.</span><span class="n">b_j</span><span class="o">.</span><span class="n">set_name</span><span class="p">)</span>
</span><span id="__span-3-36"><a id="__codelineno-3-36" name="__codelineno-3-36"></a>
</span><span id="__span-3-37"><a id="__codelineno-3-37" name="__codelineno-3-37"></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">n_range</span><span class="p">:</span>
</span><span id="__span-3-38"><a id="__codelineno-3-38" name="__codelineno-3-38"></a>            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">m_range</span><span class="p">:</span>  <span class="c1"># Costs</span>
</span><span id="__span-3-39"><a id="__codelineno-3-39" name="__codelineno-3-39"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">add_constant_to_set</span><span class="p">(</span>
</span><span id="__span-3-40"><a id="__codelineno-3-40" name="__codelineno-3-40"></a>                    <span class="n">set_name</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Parameters</span><span class="o">.</span><span class="n">c_i_j</span><span class="o">.</span><span class="n">set_name</span><span class="p">,</span>
</span><span id="__span-3-41"><a id="__codelineno-3-41" name="__codelineno-3-41"></a>                    <span class="n">set_index</span><span class="o">=</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">),</span>
</span><span id="__span-3-42"><a id="__codelineno-3-42" name="__codelineno-3-42"></a>                    <span class="n">const_name</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Parameters</span><span class="o">.</span><span class="n">c_i_j</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">),</span>
</span><span id="__span-3-43"><a id="__codelineno-3-43" name="__codelineno-3-43"></a>                    <span class="n">value_type</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">c_i_j</span><span class="o">.</span><span class="n">value_type</span><span class="p">,</span>
</span><span id="__span-3-44"><a id="__codelineno-3-44" name="__codelineno-3-44"></a>                    <span class="n">value</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">c_i_j</span><span class="o">.</span><span class="n">values</span><span class="p">[(</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">m</span> <span class="o">+</span> <span class="p">(</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)],</span>
</span><span id="__span-3-45"><a id="__codelineno-3-45" name="__codelineno-3-45"></a>                <span class="p">)</span>
</span><span id="__span-3-46"><a id="__codelineno-3-46" name="__codelineno-3-46"></a>        <span class="n">c_i_j</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_term_set_by_name</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Parameters</span><span class="o">.</span><span class="n">c_i_j</span><span class="o">.</span><span class="n">set_name</span><span class="p">)</span>
</span><span id="__span-3-47"><a id="__codelineno-3-47" name="__codelineno-3-47"></a>
</span><span id="__span-3-48"><a id="__codelineno-3-48" name="__codelineno-3-48"></a><span class="hll">        <span class="c1"># Decision variables</span>
</span></span><span id="__span-3-49"><a id="__codelineno-3-49" name="__codelineno-3-49"></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">n_range</span><span class="p">:</span>
</span><span id="__span-3-50"><a id="__codelineno-3-50" name="__codelineno-3-50"></a>            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">m_range</span><span class="p">:</span>
</span><span id="__span-3-51"><a id="__codelineno-3-51" name="__codelineno-3-51"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">add_variable_to_set</span><span class="p">(</span>
</span><span id="__span-3-52"><a id="__codelineno-3-52" name="__codelineno-3-52"></a>                    <span class="n">set_name</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">DecisionVariables</span><span class="o">.</span><span class="n">x_i_j</span><span class="o">.</span><span class="n">set_name</span><span class="p">,</span>
</span><span id="__span-3-53"><a id="__codelineno-3-53" name="__codelineno-3-53"></a>                    <span class="n">set_index</span><span class="o">=</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">),</span>
</span><span id="__span-3-54"><a id="__codelineno-3-54" name="__codelineno-3-54"></a>                    <span class="n">var_name</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">DecisionVariables</span><span class="o">.</span><span class="n">x_i_j</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">),</span>
</span><span id="__span-3-55"><a id="__codelineno-3-55" name="__codelineno-3-55"></a>                    <span class="n">value_type</span><span class="o">=</span><span class="n">ValueType</span><span class="o">.</span><span class="n">INTEGER</span><span class="p">,</span>
</span><span id="__span-3-56"><a id="__codelineno-3-56" name="__codelineno-3-56"></a>                    <span class="n">lower_bound</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-3-57"><a id="__codelineno-3-57" name="__codelineno-3-57"></a>                    <span class="n">upper_bound</span><span class="o">=</span><span class="n">inf</span><span class="p">,</span>
</span><span id="__span-3-58"><a id="__codelineno-3-58" name="__codelineno-3-58"></a>                <span class="p">)</span>
</span><span id="__span-3-59"><a id="__codelineno-3-59" name="__codelineno-3-59"></a>        <span class="n">x_i_j</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_term_set_by_name</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">DecisionVariables</span><span class="o">.</span><span class="n">x_i_j</span><span class="o">.</span><span class="n">set_name</span><span class="p">)</span>
</span><span id="__span-3-60"><a id="__codelineno-3-60" name="__codelineno-3-60"></a>
</span><span id="__span-3-61"><a id="__codelineno-3-61" name="__codelineno-3-61"></a>
</span><span id="__span-3-62"><a id="__codelineno-3-62" name="__codelineno-3-62"></a><span class="hll">        <span class="c1"># Supply limit at plants constraints</span>
</span></span><span id="__span-3-63"><a id="__codelineno-3-63" name="__codelineno-3-63"></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">n_range</span><span class="p">:</span>
</span><span id="__span-3-64"><a id="__codelineno-3-64" name="__codelineno-3-64"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span>
</span><span id="__span-3-65"><a id="__codelineno-3-65" name="__codelineno-3-65"></a>                <span class="n">expression</span><span class="o">=</span><span class="nb">sum</span><span class="p">(</span>
</span><span id="__span-3-66"><a id="__codelineno-3-66" name="__codelineno-3-66"></a>                    <span class="n">x_i_j</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span>
</span><span id="__span-3-67"><a id="__codelineno-3-67" name="__codelineno-3-67"></a>                    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">m_range</span>
</span><span id="__span-3-68"><a id="__codelineno-3-68" name="__codelineno-3-68"></a>                <span class="p">)</span> <span class="o">&lt;=</span> <span class="n">a_i</span><span class="p">[(</span><span class="n">i</span><span class="p">,)]</span>
</span><span id="__span-3-69"><a id="__codelineno-3-69" name="__codelineno-3-69"></a>            <span class="p">)</span>
</span><span id="__span-3-70"><a id="__codelineno-3-70" name="__codelineno-3-70"></a>
</span><span id="__span-3-71"><a id="__codelineno-3-71" name="__codelineno-3-71"></a><span class="hll">        <span class="c1"># Satisfy demand at markets constraints</span>
</span></span><span id="__span-3-72"><a id="__codelineno-3-72" name="__codelineno-3-72"></a>        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">m_range</span><span class="p">:</span>
</span><span id="__span-3-73"><a id="__codelineno-3-73" name="__codelineno-3-73"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span>
</span><span id="__span-3-74"><a id="__codelineno-3-74" name="__codelineno-3-74"></a>                <span class="n">expression</span><span class="o">=</span><span class="nb">sum</span><span class="p">(</span>
</span><span id="__span-3-75"><a id="__codelineno-3-75" name="__codelineno-3-75"></a>                    <span class="n">x_i_j</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span>
</span><span id="__span-3-76"><a id="__codelineno-3-76" name="__codelineno-3-76"></a>                    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">n_range</span>
</span><span id="__span-3-77"><a id="__codelineno-3-77" name="__codelineno-3-77"></a>                <span class="p">)</span> <span class="o">&gt;=</span> <span class="n">b_j</span><span class="p">[(</span><span class="n">j</span><span class="p">,)]</span>
</span><span id="__span-3-78"><a id="__codelineno-3-78" name="__codelineno-3-78"></a>            <span class="p">)</span>
</span><span id="__span-3-79"><a id="__codelineno-3-79" name="__codelineno-3-79"></a>
</span><span id="__span-3-80"><a id="__codelineno-3-80" name="__codelineno-3-80"></a><span class="hll">        <span class="c1"># Objective function</span>
</span></span><span id="__span-3-81"><a id="__codelineno-3-81" name="__codelineno-3-81"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_objective</span><span class="p">(</span>
</span><span id="__span-3-82"><a id="__codelineno-3-82" name="__codelineno-3-82"></a>            <span class="n">opt_type</span><span class="o">=</span><span class="n">OptimizationType</span><span class="o">.</span><span class="n">MINIMIZE</span><span class="p">,</span>
</span><span id="__span-3-83"><a id="__codelineno-3-83" name="__codelineno-3-83"></a>            <span class="n">expression</span><span class="o">=</span><span class="nb">sum</span><span class="p">(</span>
</span><span id="__span-3-84"><a id="__codelineno-3-84" name="__codelineno-3-84"></a>                <span class="n">c_i_j</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span> <span class="o">*</span> <span class="n">x_i_j</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span>
</span><span id="__span-3-85"><a id="__codelineno-3-85" name="__codelineno-3-85"></a>                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">n_range</span>
</span><span id="__span-3-86"><a id="__codelineno-3-86" name="__codelineno-3-86"></a>                <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">m_range</span>
</span><span id="__span-3-87"><a id="__codelineno-3-87" name="__codelineno-3-87"></a>            <span class="p">)</span>
</span><span id="__span-3-88"><a id="__codelineno-3-88" name="__codelineno-3-88"></a>        <span class="p">)</span>
</span></code></pre></div></td></tr></table></div>
</li>

<li><b>Model Optimization:</b>
Finally, having defined the transportation model class, we can create a new instance of it with our data and 
optimize it.

<div class="language-Python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-4-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-4-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-4-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-4-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-4-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-4-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-4-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-4-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-4-10">10</a></span>
<span class="normal"><a href="#__codelineno-4-11">11</a></span>
<span class="normal"><a href="#__codelineno-4-12">12</a></span>
<span class="normal"><a href="#__codelineno-4-13">13</a></span>
<span class="normal"><a href="#__codelineno-4-14">14</a></span>
<span class="normal"><a href="#__codelineno-4-15">15</a></span>
<span class="normal"><a href="#__codelineno-4-16">16</a></span>
<span class="normal"><a href="#__codelineno-4-17">17</a></span>
<span class="normal"><a href="#__codelineno-4-18">18</a></span>
<span class="normal"><a href="#__codelineno-4-19">19</a></span>
<span class="normal"><a href="#__codelineno-4-20">20</a></span>
<span class="normal"><a href="#__codelineno-4-21">21</a></span>
<span class="normal"><a href="#__codelineno-4-22">22</a></span>
<span class="normal"><a href="#__codelineno-4-23">23</a></span>
<span class="normal"><a href="#__codelineno-4-24">24</a></span>
<span class="normal"><a href="#__codelineno-4-25">25</a></span>
<span class="normal"><a href="#__codelineno-4-26">26</a></span>
<span class="normal"><a href="#__codelineno-4-27">27</a></span>
<span class="normal"><a href="#__codelineno-4-28">28</a></span>
<span class="normal"><a href="#__codelineno-4-29">29</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="c1"># Instantiate the transportation model</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="n">model</span> <span class="o">=</span> <span class="n">TransportModel</span><span class="p">(</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3"></a>    <span class="n">engine</span><span class="o">=</span><span class="n">CplexEngine</span><span class="p">(),</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4"></a>    <span class="n">data</span><span class="o">=</span><span class="n">TransportModelSchema</span><span class="p">(</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5"></a>        <span class="n">n</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6"></a>        <span class="n">m</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7"></a>        <span class="n">a_i</span><span class="o">=</span><span class="n">MultiValueParameter</span><span class="p">(</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8"></a>            <span class="n">parameter_type</span><span class="o">=</span><span class="n">ParameterType</span><span class="o">.</span><span class="n">FIXED</span><span class="p">,</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9"></a>            <span class="n">value_type</span><span class="o">=</span><span class="n">ValueType</span><span class="o">.</span><span class="n">INTEGER</span><span class="p">,</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10"></a>            <span class="n">values</span><span class="o">=</span><span class="p">(</span><span class="mi">350</span><span class="p">,</span> <span class="mi">600</span><span class="p">),</span>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11"></a>        <span class="p">),</span>
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12"></a>        <span class="n">b_j</span><span class="o">=</span><span class="n">MultiValueParameter</span><span class="p">(</span>
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13"></a>            <span class="n">parameter_type</span><span class="o">=</span><span class="n">ParameterType</span><span class="o">.</span><span class="n">FIXED</span><span class="p">,</span>
</span><span id="__span-4-14"><a id="__codelineno-4-14" name="__codelineno-4-14"></a>            <span class="n">value_type</span><span class="o">=</span><span class="n">ValueType</span><span class="o">.</span><span class="n">INTEGER</span><span class="p">,</span>
</span><span id="__span-4-15"><a id="__codelineno-4-15" name="__codelineno-4-15"></a>            <span class="n">values</span><span class="o">=</span><span class="p">(</span><span class="mi">325</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">275</span><span class="p">),</span>
</span><span id="__span-4-16"><a id="__codelineno-4-16" name="__codelineno-4-16"></a>        <span class="p">),</span>
</span><span id="__span-4-17"><a id="__codelineno-4-17" name="__codelineno-4-17"></a>        <span class="n">c_i_j</span><span class="o">=</span><span class="n">MultiValueParameter</span><span class="p">(</span>
</span><span id="__span-4-18"><a id="__codelineno-4-18" name="__codelineno-4-18"></a>            <span class="n">parameter_type</span><span class="o">=</span><span class="n">ParameterType</span><span class="o">.</span><span class="n">FIXED</span><span class="p">,</span>
</span><span id="__span-4-19"><a id="__codelineno-4-19" name="__codelineno-4-19"></a>            <span class="n">value_type</span><span class="o">=</span><span class="n">ValueType</span><span class="o">.</span><span class="n">CONTINUOUS</span><span class="p">,</span>
</span><span id="__span-4-20"><a id="__codelineno-4-20" name="__codelineno-4-20"></a>            <span class="n">values</span><span class="o">=</span><span class="p">(</span><span class="mf">2.5</span><span class="p">,</span> <span class="mf">1.7</span><span class="p">,</span> <span class="mf">1.8</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mf">1.8</span><span class="p">,</span> <span class="mf">1.4</span><span class="p">),</span>
</span><span id="__span-4-21"><a id="__codelineno-4-21" name="__codelineno-4-21"></a>        <span class="p">),</span>
</span><span id="__span-4-22"><a id="__codelineno-4-22" name="__codelineno-4-22"></a>    <span class="p">)</span>
</span><span id="__span-4-23"><a id="__codelineno-4-23" name="__codelineno-4-23"></a><span class="p">)</span>
</span><span id="__span-4-24"><a id="__codelineno-4-24" name="__codelineno-4-24"></a>
</span><span id="__span-4-25"><a id="__codelineno-4-25" name="__codelineno-4-25"></a><span class="c1"># Optimize the model</span>
</span><span id="__span-4-26"><a id="__codelineno-4-26" name="__codelineno-4-26"></a><span class="n">model</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
</span><span id="__span-4-27"><a id="__codelineno-4-27" name="__codelineno-4-27"></a>
</span><span id="__span-4-28"><a id="__codelineno-4-28" name="__codelineno-4-28"></a><span class="c1"># Display solution</span>
</span><span id="__span-4-29"><a id="__codelineno-4-29" name="__codelineno-4-29"></a><span class="n">model</span><span class="o">.</span><span class="n">print_solution</span><span class="p">()</span>
</span></code></pre></div></td></tr></table></div>

<details markdown="1" class="quote">
<summary>Click here to view the complete code...</summary>

<div class="language-Python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1">  1</a></span>
<span class="normal"><a href="#__codelineno-5-2">  2</a></span>
<span class="normal"><a href="#__codelineno-5-3">  3</a></span>
<span class="normal"><a href="#__codelineno-5-4">  4</a></span>
<span class="normal"><a href="#__codelineno-5-5">  5</a></span>
<span class="normal"><a href="#__codelineno-5-6">  6</a></span>
<span class="normal"><a href="#__codelineno-5-7">  7</a></span>
<span class="normal"><a href="#__codelineno-5-8">  8</a></span>
<span class="normal"><a href="#__codelineno-5-9">  9</a></span>
<span class="normal"><a href="#__codelineno-5-10"> 10</a></span>
<span class="normal"><a href="#__codelineno-5-11"> 11</a></span>
<span class="normal"><a href="#__codelineno-5-12"> 12</a></span>
<span class="normal"><a href="#__codelineno-5-13"> 13</a></span>
<span class="normal"><a href="#__codelineno-5-14"> 14</a></span>
<span class="normal"><a href="#__codelineno-5-15"> 15</a></span>
<span class="normal"><a href="#__codelineno-5-16"> 16</a></span>
<span class="normal"><a href="#__codelineno-5-17"> 17</a></span>
<span class="normal"><a href="#__codelineno-5-18"> 18</a></span>
<span class="normal"><a href="#__codelineno-5-19"> 19</a></span>
<span class="normal"><a href="#__codelineno-5-20"> 20</a></span>
<span class="normal"><a href="#__codelineno-5-21"> 21</a></span>
<span class="normal"><a href="#__codelineno-5-22"> 22</a></span>
<span class="normal"><a href="#__codelineno-5-23"> 23</a></span>
<span class="normal"><a href="#__codelineno-5-24"> 24</a></span>
<span class="normal"><a href="#__codelineno-5-25"> 25</a></span>
<span class="normal"><a href="#__codelineno-5-26"> 26</a></span>
<span class="normal"><a href="#__codelineno-5-27"> 27</a></span>
<span class="normal"><a href="#__codelineno-5-28"> 28</a></span>
<span class="normal"><a href="#__codelineno-5-29"> 29</a></span>
<span class="normal"><a href="#__codelineno-5-30"> 30</a></span>
<span class="normal"><a href="#__codelineno-5-31"> 31</a></span>
<span class="normal"><a href="#__codelineno-5-32"> 32</a></span>
<span class="normal"><a href="#__codelineno-5-33"> 33</a></span>
<span class="normal"><a href="#__codelineno-5-34"> 34</a></span>
<span class="normal"><a href="#__codelineno-5-35"> 35</a></span>
<span class="normal"><a href="#__codelineno-5-36"> 36</a></span>
<span class="normal"><a href="#__codelineno-5-37"> 37</a></span>
<span class="normal"><a href="#__codelineno-5-38"> 38</a></span>
<span class="normal"><a href="#__codelineno-5-39"> 39</a></span>
<span class="normal"><a href="#__codelineno-5-40"> 40</a></span>
<span class="normal"><a href="#__codelineno-5-41"> 41</a></span>
<span class="normal"><a href="#__codelineno-5-42"> 42</a></span>
<span class="normal"><a href="#__codelineno-5-43"> 43</a></span>
<span class="normal"><a href="#__codelineno-5-44"> 44</a></span>
<span class="normal"><a href="#__codelineno-5-45"> 45</a></span>
<span class="normal"><a href="#__codelineno-5-46"> 46</a></span>
<span class="normal"><a href="#__codelineno-5-47"> 47</a></span>
<span class="normal"><a href="#__codelineno-5-48"> 48</a></span>
<span class="normal"><a href="#__codelineno-5-49"> 49</a></span>
<span class="normal"><a href="#__codelineno-5-50"> 50</a></span>
<span class="normal"><a href="#__codelineno-5-51"> 51</a></span>
<span class="normal"><a href="#__codelineno-5-52"> 52</a></span>
<span class="normal"><a href="#__codelineno-5-53"> 53</a></span>
<span class="normal"><a href="#__codelineno-5-54"> 54</a></span>
<span class="normal"><a href="#__codelineno-5-55"> 55</a></span>
<span class="normal"><a href="#__codelineno-5-56"> 56</a></span>
<span class="normal"><a href="#__codelineno-5-57"> 57</a></span>
<span class="normal"><a href="#__codelineno-5-58"> 58</a></span>
<span class="normal"><a href="#__codelineno-5-59"> 59</a></span>
<span class="normal"><a href="#__codelineno-5-60"> 60</a></span>
<span class="normal"><a href="#__codelineno-5-61"> 61</a></span>
<span class="normal"><a href="#__codelineno-5-62"> 62</a></span>
<span class="normal"><a href="#__codelineno-5-63"> 63</a></span>
<span class="normal"><a href="#__codelineno-5-64"> 64</a></span>
<span class="normal"><a href="#__codelineno-5-65"> 65</a></span>
<span class="normal"><a href="#__codelineno-5-66"> 66</a></span>
<span class="normal"><a href="#__codelineno-5-67"> 67</a></span>
<span class="normal"><a href="#__codelineno-5-68"> 68</a></span>
<span class="normal"><a href="#__codelineno-5-69"> 69</a></span>
<span class="normal"><a href="#__codelineno-5-70"> 70</a></span>
<span class="normal"><a href="#__codelineno-5-71"> 71</a></span>
<span class="normal"><a href="#__codelineno-5-72"> 72</a></span>
<span class="normal"><a href="#__codelineno-5-73"> 73</a></span>
<span class="normal"><a href="#__codelineno-5-74"> 74</a></span>
<span class="normal"><a href="#__codelineno-5-75"> 75</a></span>
<span class="normal"><a href="#__codelineno-5-76"> 76</a></span>
<span class="normal"><a href="#__codelineno-5-77"> 77</a></span>
<span class="normal"><a href="#__codelineno-5-78"> 78</a></span>
<span class="normal"><a href="#__codelineno-5-79"> 79</a></span>
<span class="normal"><a href="#__codelineno-5-80"> 80</a></span>
<span class="normal"><a href="#__codelineno-5-81"> 81</a></span>
<span class="normal"><a href="#__codelineno-5-82"> 82</a></span>
<span class="normal"><a href="#__codelineno-5-83"> 83</a></span>
<span class="normal"><a href="#__codelineno-5-84"> 84</a></span>
<span class="normal"><a href="#__codelineno-5-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-5-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-5-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-5-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-5-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-5-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-5-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-5-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-5-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-5-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-5-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-5-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-5-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-5-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-5-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-5-100">100</a></span>
<span class="normal"><a href="#__codelineno-5-101">101</a></span>
<span class="normal"><a href="#__codelineno-5-102">102</a></span>
<span class="normal"><a href="#__codelineno-5-103">103</a></span>
<span class="normal"><a href="#__codelineno-5-104">104</a></span>
<span class="normal"><a href="#__codelineno-5-105">105</a></span>
<span class="normal"><a href="#__codelineno-5-106">106</a></span>
<span class="normal"><a href="#__codelineno-5-107">107</a></span>
<span class="normal"><a href="#__codelineno-5-108">108</a></span>
<span class="normal"><a href="#__codelineno-5-109">109</a></span>
<span class="normal"><a href="#__codelineno-5-110">110</a></span>
<span class="normal"><a href="#__codelineno-5-111">111</a></span>
<span class="normal"><a href="#__codelineno-5-112">112</a></span>
<span class="normal"><a href="#__codelineno-5-113">113</a></span>
<span class="normal"><a href="#__codelineno-5-114">114</a></span>
<span class="normal"><a href="#__codelineno-5-115">115</a></span>
<span class="normal"><a href="#__codelineno-5-116">116</a></span>
<span class="normal"><a href="#__codelineno-5-117">117</a></span>
<span class="normal"><a href="#__codelineno-5-118">118</a></span>
<span class="normal"><a href="#__codelineno-5-119">119</a></span>
<span class="normal"><a href="#__codelineno-5-120">120</a></span>
<span class="normal"><a href="#__codelineno-5-121">121</a></span>
<span class="normal"><a href="#__codelineno-5-122">122</a></span>
<span class="normal"><a href="#__codelineno-5-123">123</a></span>
<span class="normal"><a href="#__codelineno-5-124">124</a></span>
<span class="normal"><a href="#__codelineno-5-125">125</a></span>
<span class="normal"><a href="#__codelineno-5-126">126</a></span>
<span class="normal"><a href="#__codelineno-5-127">127</a></span>
<span class="normal"><a href="#__codelineno-5-128">128</a></span>
<span class="normal"><a href="#__codelineno-5-129">129</a></span>
<span class="normal"><a href="#__codelineno-5-130">130</a></span>
<span class="normal"><a href="#__codelineno-5-131">131</a></span>
<span class="normal"><a href="#__codelineno-5-132">132</a></span>
<span class="normal"><a href="#__codelineno-5-133">133</a></span>
<span class="normal"><a href="#__codelineno-5-134">134</a></span>
<span class="normal"><a href="#__codelineno-5-135">135</a></span>
<span class="normal"><a href="#__codelineno-5-136">136</a></span>
<span class="normal"><a href="#__codelineno-5-137">137</a></span>
<span class="normal"><a href="#__codelineno-5-138">138</a></span>
<span class="normal"><a href="#__codelineno-5-139">139</a></span>
<span class="normal"><a href="#__codelineno-5-140">140</a></span>
<span class="normal"><a href="#__codelineno-5-141">141</a></span>
<span class="normal"><a href="#__codelineno-5-142">142</a></span>
<span class="normal"><a href="#__codelineno-5-143">143</a></span>
<span class="normal"><a href="#__codelineno-5-144">144</a></span>
<span class="normal"><a href="#__codelineno-5-145">145</a></span>
<span class="normal"><a href="#__codelineno-5-146">146</a></span>
<span class="normal"><a href="#__codelineno-5-147">147</a></span>
<span class="normal"><a href="#__codelineno-5-148">148</a></span>
<span class="normal"><a href="#__codelineno-5-149">149</a></span>
<span class="normal"><a href="#__codelineno-5-150">150</a></span>
<span class="normal"><a href="#__codelineno-5-151">151</a></span>
<span class="normal"><a href="#__codelineno-5-152">152</a></span>
<span class="normal"><a href="#__codelineno-5-153">153</a></span>
<span class="normal"><a href="#__codelineno-5-154">154</a></span>
<span class="normal"><a href="#__codelineno-5-155">155</a></span>
<span class="normal"><a href="#__codelineno-5-156">156</a></span>
<span class="normal"><a href="#__codelineno-5-157">157</a></span>
<span class="normal"><a href="#__codelineno-5-158">158</a></span>
<span class="normal"><a href="#__codelineno-5-159">159</a></span>
<span class="normal"><a href="#__codelineno-5-160">160</a></span>
<span class="normal"><a href="#__codelineno-5-161">161</a></span>
<span class="normal"><a href="#__codelineno-5-162">162</a></span>
<span class="normal"><a href="#__codelineno-5-163">163</a></span>
<span class="normal"><a href="#__codelineno-5-164">164</a></span>
<span class="normal"><a href="#__codelineno-5-165">165</a></span>
<span class="normal"><a href="#__codelineno-5-166">166</a></span>
<span class="normal"><a href="#__codelineno-5-167">167</a></span>
<span class="normal"><a href="#__codelineno-5-168">168</a></span>
<span class="normal"><a href="#__codelineno-5-169">169</a></span>
<span class="normal"><a href="#__codelineno-5-170">170</a></span>
<span class="normal"><a href="#__codelineno-5-171">171</a></span>
<span class="normal"><a href="#__codelineno-5-172">172</a></span>
<span class="normal"><a href="#__codelineno-5-173">173</a></span>
<span class="normal"><a href="#__codelineno-5-174">174</a></span>
<span class="normal"><a href="#__codelineno-5-175">175</a></span>
<span class="normal"><a href="#__codelineno-5-176">176</a></span>
<span class="normal"><a href="#__codelineno-5-177">177</a></span>
<span class="normal"><a href="#__codelineno-5-178">178</a></span>
<span class="normal"><a href="#__codelineno-5-179">179</a></span>
<span class="normal"><a href="#__codelineno-5-180">180</a></span>
<span class="normal"><a href="#__codelineno-5-181">181</a></span>
<span class="normal"><a href="#__codelineno-5-182">182</a></span>
<span class="normal"><a href="#__codelineno-5-183">183</a></span>
<span class="normal"><a href="#__codelineno-5-184">184</a></span>
<span class="normal"><a href="#__codelineno-5-185">185</a></span>
<span class="normal"><a href="#__codelineno-5-186">186</a></span>
<span class="normal"><a href="#__codelineno-5-187">187</a></span>
<span class="normal"><a href="#__codelineno-5-188">188</a></span>
<span class="normal"><a href="#__codelineno-5-189">189</a></span>
<span class="normal"><a href="#__codelineno-5-190">190</a></span>
<span class="normal"><a href="#__codelineno-5-191">191</a></span>
<span class="normal"><a href="#__codelineno-5-192">192</a></span>
<span class="normal"><a href="#__codelineno-5-193">193</a></span>
<span class="normal"><a href="#__codelineno-5-194">194</a></span>
<span class="normal"><a href="#__codelineno-5-195">195</a></span>
<span class="normal"><a href="#__codelineno-5-196">196</a></span>
<span class="normal"><a href="#__codelineno-5-197">197</a></span>
<span class="normal"><a href="#__codelineno-5-198">198</a></span>
<span class="normal"><a href="#__codelineno-5-199">199</a></span>
<span class="normal"><a href="#__codelineno-5-200">200</a></span>
<span class="normal"><a href="#__codelineno-5-201">201</a></span>
<span class="normal"><a href="#__codelineno-5-202">202</a></span>
<span class="normal"><a href="#__codelineno-5-203">203</a></span>
<span class="normal"><a href="#__codelineno-5-204">204</a></span>
<span class="normal"><a href="#__codelineno-5-205">205</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">inf</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3"></a>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="kn">from</span> <span class="nn">pyorlib</span> <span class="kn">import</span> <span class="n">Model</span><span class="p">,</span> <span class="n">Engine</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="kn">from</span> <span class="nn">pyorlib.engines.cplex</span> <span class="kn">import</span> <span class="n">CplexEngine</span>  <span class="c1"># Can be replaced with other integration options.</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6"></a><span class="kn">from</span> <span class="nn">pyorlib.enums</span> <span class="kn">import</span> <span class="n">ValueType</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">,</span> <span class="n">OptimizationType</span>  <span class="c1"># These enums are used for specifying value types, parameter types, and optimization types in PyORlib.</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7"></a><span class="kn">from</span> <span class="nn">pyorlib.structures</span> <span class="kn">import</span> <span class="n">DimensionDefinition</span><span class="p">,</span> <span class="n">ParameterDefinition</span><span class="p">,</span> <span class="n">TermDefinition</span><span class="p">,</span> <span class="n">MultiValueParameter</span>  <span class="c1"># Classes that are used for organizing and defining the structure of the model.</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8"></a><span class="kn">from</span> <span class="nn">pyorlib.validators</span> <span class="kn">import</span> <span class="n">DimensionField</span><span class="p">,</span> <span class="n">ParameterField</span>  <span class="c1"># Classes that are used for validating the dimensions and parameters of the model.</span>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9"></a>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10"></a>
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11"></a><span class="k">class</span> <span class="nc">TransportModelDefinition</span><span class="p">:</span>
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Transportation Nomenclature Definitions&quot;&quot;&quot;</span>
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13"></a>
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14"></a>    <span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15"></a>    <span class="k">class</span> <span class="nc">Dimensions</span><span class="p">:</span>
</span><span id="__span-5-16"><a id="__codelineno-5-16" name="__codelineno-5-16"></a>        <span class="n">n</span> <span class="o">=</span> <span class="n">DimensionDefinition</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;n&quot;</span><span class="p">,</span> <span class="n">display_name</span><span class="o">=</span><span class="s2">&quot;Total plants&quot;</span><span class="p">)</span>
</span><span id="__span-5-17"><a id="__codelineno-5-17" name="__codelineno-5-17"></a>        <span class="n">m</span> <span class="o">=</span> <span class="n">DimensionDefinition</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;m&quot;</span><span class="p">,</span> <span class="n">display_name</span><span class="o">=</span><span class="s2">&quot;Total markets&quot;</span><span class="p">)</span>
</span><span id="__span-5-18"><a id="__codelineno-5-18" name="__codelineno-5-18"></a>
</span><span id="__span-5-19"><a id="__codelineno-5-19" name="__codelineno-5-19"></a>    <span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-5-20"><a id="__codelineno-5-20" name="__codelineno-5-20"></a>    <span class="k">class</span> <span class="nc">Parameters</span><span class="p">:</span>
</span><span id="__span-5-21"><a id="__codelineno-5-21" name="__codelineno-5-21"></a>        <span class="n">a_i</span> <span class="o">=</span> <span class="n">ParameterDefinition</span><span class="p">(</span>
</span><span id="__span-5-22"><a id="__codelineno-5-22" name="__codelineno-5-22"></a>            <span class="n">set_name</span><span class="o">=</span><span class="s2">&quot;a_i&quot;</span><span class="p">,</span>
</span><span id="__span-5-23"><a id="__codelineno-5-23" name="__codelineno-5-23"></a>            <span class="n">name</span><span class="o">=</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;a_</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="__span-5-24"><a id="__codelineno-5-24" name="__codelineno-5-24"></a>            <span class="n">display_name</span><span class="o">=</span><span class="s2">&quot;Supply of commodity of plant i (in cases)&quot;</span><span class="p">,</span>
</span><span id="__span-5-25"><a id="__codelineno-5-25" name="__codelineno-5-25"></a>            <span class="n">parameter_types</span><span class="o">=</span><span class="p">{</span><span class="n">ParameterType</span><span class="o">.</span><span class="n">FIXED</span><span class="p">},</span>
</span><span id="__span-5-26"><a id="__codelineno-5-26" name="__codelineno-5-26"></a>            <span class="n">value_types</span><span class="o">=</span><span class="p">{</span><span class="n">ValueType</span><span class="o">.</span><span class="n">INTEGER</span><span class="p">},</span>
</span><span id="__span-5-27"><a id="__codelineno-5-27" name="__codelineno-5-27"></a>            <span class="nb">min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-5-28"><a id="__codelineno-5-28" name="__codelineno-5-28"></a>        <span class="p">)</span>
</span><span id="__span-5-29"><a id="__codelineno-5-29" name="__codelineno-5-29"></a>        <span class="n">b_j</span> <span class="o">=</span> <span class="n">ParameterDefinition</span><span class="p">(</span>
</span><span id="__span-5-30"><a id="__codelineno-5-30" name="__codelineno-5-30"></a>            <span class="n">set_name</span><span class="o">=</span><span class="s2">&quot;b_j&quot;</span><span class="p">,</span>
</span><span id="__span-5-31"><a id="__codelineno-5-31" name="__codelineno-5-31"></a>            <span class="n">name</span><span class="o">=</span><span class="k">lambda</span> <span class="n">j</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;b_</span><span class="si">{</span><span class="n">j</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="__span-5-32"><a id="__codelineno-5-32" name="__codelineno-5-32"></a>            <span class="n">display_name</span><span class="o">=</span><span class="s2">&quot;Demand for commodity at market j (cases)&quot;</span><span class="p">,</span>
</span><span id="__span-5-33"><a id="__codelineno-5-33" name="__codelineno-5-33"></a>            <span class="n">parameter_types</span><span class="o">=</span><span class="p">{</span><span class="n">ParameterType</span><span class="o">.</span><span class="n">FIXED</span><span class="p">},</span>
</span><span id="__span-5-34"><a id="__codelineno-5-34" name="__codelineno-5-34"></a>            <span class="n">value_types</span><span class="o">=</span><span class="p">{</span><span class="n">ValueType</span><span class="o">.</span><span class="n">INTEGER</span><span class="p">},</span>
</span><span id="__span-5-35"><a id="__codelineno-5-35" name="__codelineno-5-35"></a>            <span class="nb">min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-5-36"><a id="__codelineno-5-36" name="__codelineno-5-36"></a>        <span class="p">)</span>
</span><span id="__span-5-37"><a id="__codelineno-5-37" name="__codelineno-5-37"></a>        <span class="n">c_i_j</span> <span class="o">=</span> <span class="n">ParameterDefinition</span><span class="p">(</span>
</span><span id="__span-5-38"><a id="__codelineno-5-38" name="__codelineno-5-38"></a>            <span class="n">set_name</span><span class="o">=</span><span class="s2">&quot;c_i_j&quot;</span><span class="p">,</span>
</span><span id="__span-5-39"><a id="__codelineno-5-39" name="__codelineno-5-39"></a>            <span class="n">name</span><span class="o">=</span><span class="k">lambda</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;c_</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">j</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="__span-5-40"><a id="__codelineno-5-40" name="__codelineno-5-40"></a>            <span class="n">display_name</span><span class="o">=</span><span class="s2">&quot;Cost per unit shipment between plan i and market j ($/case)&quot;</span><span class="p">,</span>
</span><span id="__span-5-41"><a id="__codelineno-5-41" name="__codelineno-5-41"></a>            <span class="n">parameter_types</span><span class="o">=</span><span class="p">{</span><span class="n">ParameterType</span><span class="o">.</span><span class="n">FIXED</span><span class="p">},</span>
</span><span id="__span-5-42"><a id="__codelineno-5-42" name="__codelineno-5-42"></a>            <span class="n">value_types</span><span class="o">=</span><span class="p">{</span><span class="n">ValueType</span><span class="o">.</span><span class="n">CONTINUOUS</span><span class="p">},</span>
</span><span id="__span-5-43"><a id="__codelineno-5-43" name="__codelineno-5-43"></a>            <span class="nb">min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-5-44"><a id="__codelineno-5-44" name="__codelineno-5-44"></a>        <span class="p">)</span>
</span><span id="__span-5-45"><a id="__codelineno-5-45" name="__codelineno-5-45"></a>
</span><span id="__span-5-46"><a id="__codelineno-5-46" name="__codelineno-5-46"></a>    <span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-5-47"><a id="__codelineno-5-47" name="__codelineno-5-47"></a>    <span class="k">class</span> <span class="nc">DecisionVariables</span><span class="p">:</span>
</span><span id="__span-5-48"><a id="__codelineno-5-48" name="__codelineno-5-48"></a>        <span class="n">x_i_j</span> <span class="o">=</span> <span class="n">TermDefinition</span><span class="p">(</span>
</span><span id="__span-5-49"><a id="__codelineno-5-49" name="__codelineno-5-49"></a>            <span class="n">set_name</span><span class="o">=</span><span class="s2">&quot;x_i_j&quot;</span><span class="p">,</span>
</span><span id="__span-5-50"><a id="__codelineno-5-50" name="__codelineno-5-50"></a>            <span class="n">name</span><span class="o">=</span><span class="k">lambda</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;x_</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">j</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="__span-5-51"><a id="__codelineno-5-51" name="__codelineno-5-51"></a>            <span class="n">display_name</span><span class="o">=</span><span class="s2">&quot;Amount of commodity to ship from plant i to market j (cases)&quot;</span><span class="p">,</span>
</span><span id="__span-5-52"><a id="__codelineno-5-52" name="__codelineno-5-52"></a>        <span class="p">)</span>
</span><span id="__span-5-53"><a id="__codelineno-5-53" name="__codelineno-5-53"></a>
</span><span id="__span-5-54"><a id="__codelineno-5-54" name="__codelineno-5-54"></a>
</span><span id="__span-5-55"><a id="__codelineno-5-55" name="__codelineno-5-55"></a><span class="nd">@dataclass</span>
</span><span id="__span-5-56"><a id="__codelineno-5-56" name="__codelineno-5-56"></a><span class="k">class</span> <span class="nc">TransportModelSchema</span><span class="p">:</span>
</span><span id="__span-5-57"><a id="__codelineno-5-57" name="__codelineno-5-57"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Data Entry Validations&quot;&quot;&quot;</span>
</span><span id="__span-5-58"><a id="__codelineno-5-58" name="__codelineno-5-58"></a>
</span><span id="__span-5-59"><a id="__codelineno-5-59" name="__codelineno-5-59"></a>    <span class="n">n</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DimensionField</span><span class="p">(</span><span class="nb">min</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Dimensions</span><span class="o">.</span><span class="n">n</span><span class="o">.</span><span class="n">min</span><span class="p">)</span>
</span><span id="__span-5-60"><a id="__codelineno-5-60" name="__codelineno-5-60"></a>    <span class="n">m</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DimensionField</span><span class="p">(</span><span class="nb">min</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Dimensions</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">min</span><span class="p">)</span>
</span><span id="__span-5-61"><a id="__codelineno-5-61" name="__codelineno-5-61"></a>
</span><span id="__span-5-62"><a id="__codelineno-5-62" name="__codelineno-5-62"></a>    <span class="n">a_i</span><span class="p">:</span> <span class="n">MultiValueParameter</span> <span class="o">=</span> <span class="n">ParameterField</span><span class="p">(</span>
</span><span id="__span-5-63"><a id="__codelineno-5-63" name="__codelineno-5-63"></a>        <span class="n">parameter_types</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Parameters</span><span class="o">.</span><span class="n">a_i</span><span class="o">.</span><span class="n">parameter_types</span><span class="p">,</span>
</span><span id="__span-5-64"><a id="__codelineno-5-64" name="__codelineno-5-64"></a>        <span class="n">value_types</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Parameters</span><span class="o">.</span><span class="n">a_i</span><span class="o">.</span><span class="n">value_types</span><span class="p">,</span>
</span><span id="__span-5-65"><a id="__codelineno-5-65" name="__codelineno-5-65"></a>        <span class="nb">min</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Parameters</span><span class="o">.</span><span class="n">a_i</span><span class="o">.</span><span class="n">min</span><span class="p">,</span>
</span><span id="__span-5-66"><a id="__codelineno-5-66" name="__codelineno-5-66"></a>    <span class="p">)</span>
</span><span id="__span-5-67"><a id="__codelineno-5-67" name="__codelineno-5-67"></a>    <span class="n">b_j</span><span class="p">:</span> <span class="n">MultiValueParameter</span> <span class="o">=</span> <span class="n">ParameterField</span><span class="p">(</span>
</span><span id="__span-5-68"><a id="__codelineno-5-68" name="__codelineno-5-68"></a>        <span class="n">parameter_types</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Parameters</span><span class="o">.</span><span class="n">b_j</span><span class="o">.</span><span class="n">parameter_types</span><span class="p">,</span>
</span><span id="__span-5-69"><a id="__codelineno-5-69" name="__codelineno-5-69"></a>        <span class="n">value_types</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Parameters</span><span class="o">.</span><span class="n">b_j</span><span class="o">.</span><span class="n">value_types</span><span class="p">,</span>
</span><span id="__span-5-70"><a id="__codelineno-5-70" name="__codelineno-5-70"></a>        <span class="nb">min</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Parameters</span><span class="o">.</span><span class="n">b_j</span><span class="o">.</span><span class="n">min</span><span class="p">,</span>
</span><span id="__span-5-71"><a id="__codelineno-5-71" name="__codelineno-5-71"></a>    <span class="p">)</span>
</span><span id="__span-5-72"><a id="__codelineno-5-72" name="__codelineno-5-72"></a>    <span class="n">c_i_j</span><span class="p">:</span> <span class="n">MultiValueParameter</span> <span class="o">=</span> <span class="n">ParameterField</span><span class="p">(</span>
</span><span id="__span-5-73"><a id="__codelineno-5-73" name="__codelineno-5-73"></a>        <span class="n">parameter_types</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Parameters</span><span class="o">.</span><span class="n">c_i_j</span><span class="o">.</span><span class="n">parameter_types</span><span class="p">,</span>
</span><span id="__span-5-74"><a id="__codelineno-5-74" name="__codelineno-5-74"></a>        <span class="n">value_types</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Parameters</span><span class="o">.</span><span class="n">c_i_j</span><span class="o">.</span><span class="n">value_types</span><span class="p">,</span>
</span><span id="__span-5-75"><a id="__codelineno-5-75" name="__codelineno-5-75"></a>        <span class="nb">min</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Parameters</span><span class="o">.</span><span class="n">c_i_j</span><span class="o">.</span><span class="n">min</span><span class="p">,</span>
</span><span id="__span-5-76"><a id="__codelineno-5-76" name="__codelineno-5-76"></a>    <span class="p">)</span>
</span><span id="__span-5-77"><a id="__codelineno-5-77" name="__codelineno-5-77"></a>
</span><span id="__span-5-78"><a id="__codelineno-5-78" name="__codelineno-5-78"></a>    <span class="k">def</span> <span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-5-79"><a id="__codelineno-5-79" name="__codelineno-5-79"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a_i</span><span class="o">.</span><span class="n">values</span><span class="p">)</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="p">:</span>
</span><span id="__span-5-80"><a id="__codelineno-5-80" name="__codelineno-5-80"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&#39;a_i&#39; values must have a length of </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-5-81"><a id="__codelineno-5-81" name="__codelineno-5-81"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">b_j</span><span class="o">.</span><span class="n">values</span><span class="p">)</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="p">:</span>
</span><span id="__span-5-82"><a id="__codelineno-5-82" name="__codelineno-5-82"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&#39;b_j&#39; values must have a length of </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-5-83"><a id="__codelineno-5-83" name="__codelineno-5-83"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">c_i_j</span><span class="o">.</span><span class="n">values</span><span class="p">)</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">n</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="p">:</span>
</span><span id="__span-5-84"><a id="__codelineno-5-84" name="__codelineno-5-84"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&#39;c_i_j&#39; values must have a length of </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-5-85"><a id="__codelineno-5-85" name="__codelineno-5-85"></a>
</span><span id="__span-5-86"><a id="__codelineno-5-86" name="__codelineno-5-86"></a>
</span><span id="__span-5-87"><a id="__codelineno-5-87" name="__codelineno-5-87"></a><span class="k">class</span> <span class="nc">TransportModel</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
</span><span id="__span-5-88"><a id="__codelineno-5-88" name="__codelineno-5-88"></a>
</span><span id="__span-5-89"><a id="__codelineno-5-89" name="__codelineno-5-89"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">engine</span><span class="p">:</span> <span class="n">Engine</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">TransportModelSchema</span><span class="p">,</span> <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
</span><span id="__span-5-90"><a id="__codelineno-5-90" name="__codelineno-5-90"></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">engine</span><span class="o">=</span><span class="n">engine</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Transportation Model&quot;</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="n">debug</span><span class="p">)</span>
</span><span id="__span-5-91"><a id="__codelineno-5-91" name="__codelineno-5-91"></a>
</span><span id="__span-5-92"><a id="__codelineno-5-92" name="__codelineno-5-92"></a>        <span class="k">if</span> <span class="n">data</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="__span-5-93"><a id="__codelineno-5-93" name="__codelineno-5-93"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;data&#39; parameter cannot be None.&quot;</span><span class="p">)</span>
</span><span id="__span-5-94"><a id="__codelineno-5-94" name="__codelineno-5-94"></a>
</span><span id="__span-5-95"><a id="__codelineno-5-95" name="__codelineno-5-95"></a>        <span class="c1"># Dimensions</span>
</span><span id="__span-5-96"><a id="__codelineno-5-96" name="__codelineno-5-96"></a>        <span class="n">n</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">add_dimension</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Dimensions</span><span class="o">.</span><span class="n">n</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">n</span><span class="p">)</span>
</span><span id="__span-5-97"><a id="__codelineno-5-97" name="__codelineno-5-97"></a>        <span class="n">m</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">add_dimension</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Dimensions</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">m</span><span class="p">)</span>
</span><span id="__span-5-98"><a id="__codelineno-5-98" name="__codelineno-5-98"></a>
</span><span id="__span-5-99"><a id="__codelineno-5-99" name="__codelineno-5-99"></a>        <span class="n">n_range</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="__span-5-100"><a id="__codelineno-5-100" name="__codelineno-5-100"></a>        <span class="n">m_range</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="__span-5-101"><a id="__codelineno-5-101" name="__codelineno-5-101"></a>
</span><span id="__span-5-102"><a id="__codelineno-5-102" name="__codelineno-5-102"></a>        <span class="c1"># Parameters</span>
</span><span id="__span-5-103"><a id="__codelineno-5-103" name="__codelineno-5-103"></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">n_range</span><span class="p">:</span>  <span class="c1"># Plant&#39;s supply values</span>
</span><span id="__span-5-104"><a id="__codelineno-5-104" name="__codelineno-5-104"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">add_constant_to_set</span><span class="p">(</span>
</span><span id="__span-5-105"><a id="__codelineno-5-105" name="__codelineno-5-105"></a>                <span class="n">set_name</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Parameters</span><span class="o">.</span><span class="n">a_i</span><span class="o">.</span><span class="n">set_name</span><span class="p">,</span>
</span><span id="__span-5-106"><a id="__codelineno-5-106" name="__codelineno-5-106"></a>                <span class="n">set_index</span><span class="o">=</span><span class="p">(</span><span class="n">i</span><span class="p">,),</span>
</span><span id="__span-5-107"><a id="__codelineno-5-107" name="__codelineno-5-107"></a>                <span class="n">const_name</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Parameters</span><span class="o">.</span><span class="n">a_i</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="n">i</span><span class="p">),</span>
</span><span id="__span-5-108"><a id="__codelineno-5-108" name="__codelineno-5-108"></a>                <span class="n">value_type</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">a_i</span><span class="o">.</span><span class="n">value_type</span><span class="p">,</span>
</span><span id="__span-5-109"><a id="__codelineno-5-109" name="__codelineno-5-109"></a>                <span class="n">value</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">a_i</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span>
</span><span id="__span-5-110"><a id="__codelineno-5-110" name="__codelineno-5-110"></a>            <span class="p">)</span>
</span><span id="__span-5-111"><a id="__codelineno-5-111" name="__codelineno-5-111"></a>        <span class="n">a_i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_term_set_by_name</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Parameters</span><span class="o">.</span><span class="n">a_i</span><span class="o">.</span><span class="n">set_name</span><span class="p">)</span>
</span><span id="__span-5-112"><a id="__codelineno-5-112" name="__codelineno-5-112"></a>
</span><span id="__span-5-113"><a id="__codelineno-5-113" name="__codelineno-5-113"></a>        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">m_range</span><span class="p">:</span>  <span class="c1"># Market&#39;s demands</span>
</span><span id="__span-5-114"><a id="__codelineno-5-114" name="__codelineno-5-114"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">add_constant_to_set</span><span class="p">(</span>
</span><span id="__span-5-115"><a id="__codelineno-5-115" name="__codelineno-5-115"></a>                <span class="n">set_name</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Parameters</span><span class="o">.</span><span class="n">b_j</span><span class="o">.</span><span class="n">set_name</span><span class="p">,</span>
</span><span id="__span-5-116"><a id="__codelineno-5-116" name="__codelineno-5-116"></a>                <span class="n">set_index</span><span class="o">=</span><span class="p">(</span><span class="n">j</span><span class="p">,),</span>
</span><span id="__span-5-117"><a id="__codelineno-5-117" name="__codelineno-5-117"></a>                <span class="n">const_name</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Parameters</span><span class="o">.</span><span class="n">b_j</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="n">j</span><span class="p">),</span>
</span><span id="__span-5-118"><a id="__codelineno-5-118" name="__codelineno-5-118"></a>                <span class="n">value_type</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">b_j</span><span class="o">.</span><span class="n">value_type</span><span class="p">,</span>
</span><span id="__span-5-119"><a id="__codelineno-5-119" name="__codelineno-5-119"></a>                <span class="n">value</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">b_j</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span>
</span><span id="__span-5-120"><a id="__codelineno-5-120" name="__codelineno-5-120"></a>            <span class="p">)</span>
</span><span id="__span-5-121"><a id="__codelineno-5-121" name="__codelineno-5-121"></a>        <span class="n">b_j</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_term_set_by_name</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Parameters</span><span class="o">.</span><span class="n">b_j</span><span class="o">.</span><span class="n">set_name</span><span class="p">)</span>
</span><span id="__span-5-122"><a id="__codelineno-5-122" name="__codelineno-5-122"></a>
</span><span id="__span-5-123"><a id="__codelineno-5-123" name="__codelineno-5-123"></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">n_range</span><span class="p">:</span>
</span><span id="__span-5-124"><a id="__codelineno-5-124" name="__codelineno-5-124"></a>            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">m_range</span><span class="p">:</span>  <span class="c1"># Costs</span>
</span><span id="__span-5-125"><a id="__codelineno-5-125" name="__codelineno-5-125"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">add_constant_to_set</span><span class="p">(</span>
</span><span id="__span-5-126"><a id="__codelineno-5-126" name="__codelineno-5-126"></a>                    <span class="n">set_name</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Parameters</span><span class="o">.</span><span class="n">c_i_j</span><span class="o">.</span><span class="n">set_name</span><span class="p">,</span>
</span><span id="__span-5-127"><a id="__codelineno-5-127" name="__codelineno-5-127"></a>                    <span class="n">set_index</span><span class="o">=</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">),</span>
</span><span id="__span-5-128"><a id="__codelineno-5-128" name="__codelineno-5-128"></a>                    <span class="n">const_name</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Parameters</span><span class="o">.</span><span class="n">c_i_j</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">),</span>
</span><span id="__span-5-129"><a id="__codelineno-5-129" name="__codelineno-5-129"></a>                    <span class="n">value_type</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">c_i_j</span><span class="o">.</span><span class="n">value_type</span><span class="p">,</span>
</span><span id="__span-5-130"><a id="__codelineno-5-130" name="__codelineno-5-130"></a>                    <span class="n">value</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">c_i_j</span><span class="o">.</span><span class="n">values</span><span class="p">[(</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">m</span> <span class="o">+</span> <span class="p">(</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)],</span>
</span><span id="__span-5-131"><a id="__codelineno-5-131" name="__codelineno-5-131"></a>                <span class="p">)</span>
</span><span id="__span-5-132"><a id="__codelineno-5-132" name="__codelineno-5-132"></a>        <span class="n">c_i_j</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_term_set_by_name</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">Parameters</span><span class="o">.</span><span class="n">c_i_j</span><span class="o">.</span><span class="n">set_name</span><span class="p">)</span>
</span><span id="__span-5-133"><a id="__codelineno-5-133" name="__codelineno-5-133"></a>
</span><span id="__span-5-134"><a id="__codelineno-5-134" name="__codelineno-5-134"></a>        <span class="c1"># Decision variables</span>
</span><span id="__span-5-135"><a id="__codelineno-5-135" name="__codelineno-5-135"></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">n_range</span><span class="p">:</span>
</span><span id="__span-5-136"><a id="__codelineno-5-136" name="__codelineno-5-136"></a>            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">m_range</span><span class="p">:</span>
</span><span id="__span-5-137"><a id="__codelineno-5-137" name="__codelineno-5-137"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">add_variable_to_set</span><span class="p">(</span>
</span><span id="__span-5-138"><a id="__codelineno-5-138" name="__codelineno-5-138"></a>                    <span class="n">set_name</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">DecisionVariables</span><span class="o">.</span><span class="n">x_i_j</span><span class="o">.</span><span class="n">set_name</span><span class="p">,</span>
</span><span id="__span-5-139"><a id="__codelineno-5-139" name="__codelineno-5-139"></a>                    <span class="n">set_index</span><span class="o">=</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">),</span>
</span><span id="__span-5-140"><a id="__codelineno-5-140" name="__codelineno-5-140"></a>                    <span class="n">var_name</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">DecisionVariables</span><span class="o">.</span><span class="n">x_i_j</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">),</span>
</span><span id="__span-5-141"><a id="__codelineno-5-141" name="__codelineno-5-141"></a>                    <span class="n">value_type</span><span class="o">=</span><span class="n">ValueType</span><span class="o">.</span><span class="n">INTEGER</span><span class="p">,</span>
</span><span id="__span-5-142"><a id="__codelineno-5-142" name="__codelineno-5-142"></a>                    <span class="n">lower_bound</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-5-143"><a id="__codelineno-5-143" name="__codelineno-5-143"></a>                    <span class="n">upper_bound</span><span class="o">=</span><span class="n">inf</span><span class="p">,</span>
</span><span id="__span-5-144"><a id="__codelineno-5-144" name="__codelineno-5-144"></a>                <span class="p">)</span>
</span><span id="__span-5-145"><a id="__codelineno-5-145" name="__codelineno-5-145"></a>        <span class="n">x_i_j</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_term_set_by_name</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">TransportModelDefinition</span><span class="o">.</span><span class="n">DecisionVariables</span><span class="o">.</span><span class="n">x_i_j</span><span class="o">.</span><span class="n">set_name</span><span class="p">)</span>
</span><span id="__span-5-146"><a id="__codelineno-5-146" name="__codelineno-5-146"></a>
</span><span id="__span-5-147"><a id="__codelineno-5-147" name="__codelineno-5-147"></a>
</span><span id="__span-5-148"><a id="__codelineno-5-148" name="__codelineno-5-148"></a>        <span class="c1"># Supply limit at plants constraints</span>
</span><span id="__span-5-149"><a id="__codelineno-5-149" name="__codelineno-5-149"></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">n_range</span><span class="p">:</span>
</span><span id="__span-5-150"><a id="__codelineno-5-150" name="__codelineno-5-150"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span>
</span><span id="__span-5-151"><a id="__codelineno-5-151" name="__codelineno-5-151"></a>                <span class="n">expression</span><span class="o">=</span><span class="nb">sum</span><span class="p">(</span>
</span><span id="__span-5-152"><a id="__codelineno-5-152" name="__codelineno-5-152"></a>                    <span class="n">x_i_j</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span>
</span><span id="__span-5-153"><a id="__codelineno-5-153" name="__codelineno-5-153"></a>                    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">m_range</span>
</span><span id="__span-5-154"><a id="__codelineno-5-154" name="__codelineno-5-154"></a>                <span class="p">)</span> <span class="o">&lt;=</span> <span class="n">a_i</span><span class="p">[(</span><span class="n">i</span><span class="p">,)]</span>
</span><span id="__span-5-155"><a id="__codelineno-5-155" name="__codelineno-5-155"></a>            <span class="p">)</span>
</span><span id="__span-5-156"><a id="__codelineno-5-156" name="__codelineno-5-156"></a>
</span><span id="__span-5-157"><a id="__codelineno-5-157" name="__codelineno-5-157"></a>        <span class="c1"># Satisfy demand at markets constraints</span>
</span><span id="__span-5-158"><a id="__codelineno-5-158" name="__codelineno-5-158"></a>        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">m_range</span><span class="p">:</span>
</span><span id="__span-5-159"><a id="__codelineno-5-159" name="__codelineno-5-159"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span>
</span><span id="__span-5-160"><a id="__codelineno-5-160" name="__codelineno-5-160"></a>                <span class="n">expression</span><span class="o">=</span><span class="nb">sum</span><span class="p">(</span>
</span><span id="__span-5-161"><a id="__codelineno-5-161" name="__codelineno-5-161"></a>                    <span class="n">x_i_j</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span>
</span><span id="__span-5-162"><a id="__codelineno-5-162" name="__codelineno-5-162"></a>                    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">n_range</span>
</span><span id="__span-5-163"><a id="__codelineno-5-163" name="__codelineno-5-163"></a>                <span class="p">)</span> <span class="o">&gt;=</span> <span class="n">b_j</span><span class="p">[(</span><span class="n">j</span><span class="p">,)]</span>
</span><span id="__span-5-164"><a id="__codelineno-5-164" name="__codelineno-5-164"></a>            <span class="p">)</span>
</span><span id="__span-5-165"><a id="__codelineno-5-165" name="__codelineno-5-165"></a>
</span><span id="__span-5-166"><a id="__codelineno-5-166" name="__codelineno-5-166"></a>        <span class="c1"># Objective function</span>
</span><span id="__span-5-167"><a id="__codelineno-5-167" name="__codelineno-5-167"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_objective</span><span class="p">(</span>
</span><span id="__span-5-168"><a id="__codelineno-5-168" name="__codelineno-5-168"></a>            <span class="n">opt_type</span><span class="o">=</span><span class="n">OptimizationType</span><span class="o">.</span><span class="n">MINIMIZE</span><span class="p">,</span>
</span><span id="__span-5-169"><a id="__codelineno-5-169" name="__codelineno-5-169"></a>            <span class="n">expression</span><span class="o">=</span><span class="nb">sum</span><span class="p">(</span>
</span><span id="__span-5-170"><a id="__codelineno-5-170" name="__codelineno-5-170"></a>                <span class="n">c_i_j</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span> <span class="o">*</span> <span class="n">x_i_j</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span>
</span><span id="__span-5-171"><a id="__codelineno-5-171" name="__codelineno-5-171"></a>                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">n_range</span>
</span><span id="__span-5-172"><a id="__codelineno-5-172" name="__codelineno-5-172"></a>                <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">m_range</span>
</span><span id="__span-5-173"><a id="__codelineno-5-173" name="__codelineno-5-173"></a>            <span class="p">)</span>
</span><span id="__span-5-174"><a id="__codelineno-5-174" name="__codelineno-5-174"></a>        <span class="p">)</span>
</span><span id="__span-5-175"><a id="__codelineno-5-175" name="__codelineno-5-175"></a>
</span><span id="__span-5-176"><a id="__codelineno-5-176" name="__codelineno-5-176"></a>
</span><span id="__span-5-177"><a id="__codelineno-5-177" name="__codelineno-5-177"></a><span class="c1"># Instantiate the transportation model</span>
</span><span id="__span-5-178"><a id="__codelineno-5-178" name="__codelineno-5-178"></a><span class="n">model</span> <span class="o">=</span> <span class="n">TransportModel</span><span class="p">(</span>
</span><span id="__span-5-179"><a id="__codelineno-5-179" name="__codelineno-5-179"></a>    <span class="n">engine</span><span class="o">=</span><span class="n">CplexEngine</span><span class="p">(),</span>
</span><span id="__span-5-180"><a id="__codelineno-5-180" name="__codelineno-5-180"></a>    <span class="n">data</span><span class="o">=</span><span class="n">TransportModelSchema</span><span class="p">(</span>
</span><span id="__span-5-181"><a id="__codelineno-5-181" name="__codelineno-5-181"></a>        <span class="n">n</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
</span><span id="__span-5-182"><a id="__codelineno-5-182" name="__codelineno-5-182"></a>        <span class="n">m</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
</span><span id="__span-5-183"><a id="__codelineno-5-183" name="__codelineno-5-183"></a>        <span class="n">a_i</span><span class="o">=</span><span class="n">MultiValueParameter</span><span class="p">(</span>
</span><span id="__span-5-184"><a id="__codelineno-5-184" name="__codelineno-5-184"></a>            <span class="n">parameter_type</span><span class="o">=</span><span class="n">ParameterType</span><span class="o">.</span><span class="n">FIXED</span><span class="p">,</span>
</span><span id="__span-5-185"><a id="__codelineno-5-185" name="__codelineno-5-185"></a>            <span class="n">value_type</span><span class="o">=</span><span class="n">ValueType</span><span class="o">.</span><span class="n">INTEGER</span><span class="p">,</span>
</span><span id="__span-5-186"><a id="__codelineno-5-186" name="__codelineno-5-186"></a>            <span class="n">values</span><span class="o">=</span><span class="p">(</span><span class="mi">350</span><span class="p">,</span> <span class="mi">600</span><span class="p">),</span>
</span><span id="__span-5-187"><a id="__codelineno-5-187" name="__codelineno-5-187"></a>        <span class="p">),</span>
</span><span id="__span-5-188"><a id="__codelineno-5-188" name="__codelineno-5-188"></a>        <span class="n">b_j</span><span class="o">=</span><span class="n">MultiValueParameter</span><span class="p">(</span>
</span><span id="__span-5-189"><a id="__codelineno-5-189" name="__codelineno-5-189"></a>            <span class="n">parameter_type</span><span class="o">=</span><span class="n">ParameterType</span><span class="o">.</span><span class="n">FIXED</span><span class="p">,</span>
</span><span id="__span-5-190"><a id="__codelineno-5-190" name="__codelineno-5-190"></a>            <span class="n">value_type</span><span class="o">=</span><span class="n">ValueType</span><span class="o">.</span><span class="n">INTEGER</span><span class="p">,</span>
</span><span id="__span-5-191"><a id="__codelineno-5-191" name="__codelineno-5-191"></a>            <span class="n">values</span><span class="o">=</span><span class="p">(</span><span class="mi">325</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">275</span><span class="p">),</span>
</span><span id="__span-5-192"><a id="__codelineno-5-192" name="__codelineno-5-192"></a>        <span class="p">),</span>
</span><span id="__span-5-193"><a id="__codelineno-5-193" name="__codelineno-5-193"></a>        <span class="n">c_i_j</span><span class="o">=</span><span class="n">MultiValueParameter</span><span class="p">(</span>
</span><span id="__span-5-194"><a id="__codelineno-5-194" name="__codelineno-5-194"></a>            <span class="n">parameter_type</span><span class="o">=</span><span class="n">ParameterType</span><span class="o">.</span><span class="n">FIXED</span><span class="p">,</span>
</span><span id="__span-5-195"><a id="__codelineno-5-195" name="__codelineno-5-195"></a>            <span class="n">value_type</span><span class="o">=</span><span class="n">ValueType</span><span class="o">.</span><span class="n">CONTINUOUS</span><span class="p">,</span>
</span><span id="__span-5-196"><a id="__codelineno-5-196" name="__codelineno-5-196"></a>            <span class="n">values</span><span class="o">=</span><span class="p">(</span><span class="mf">2.5</span><span class="p">,</span> <span class="mf">1.7</span><span class="p">,</span> <span class="mf">1.8</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mf">1.8</span><span class="p">,</span> <span class="mf">1.4</span><span class="p">),</span>
</span><span id="__span-5-197"><a id="__codelineno-5-197" name="__codelineno-5-197"></a>        <span class="p">),</span>
</span><span id="__span-5-198"><a id="__codelineno-5-198" name="__codelineno-5-198"></a>    <span class="p">)</span>
</span><span id="__span-5-199"><a id="__codelineno-5-199" name="__codelineno-5-199"></a><span class="p">)</span>
</span><span id="__span-5-200"><a id="__codelineno-5-200" name="__codelineno-5-200"></a>
</span><span id="__span-5-201"><a id="__codelineno-5-201" name="__codelineno-5-201"></a><span class="c1"># Optimize the model</span>
</span><span id="__span-5-202"><a id="__codelineno-5-202" name="__codelineno-5-202"></a><span class="n">model</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
</span><span id="__span-5-203"><a id="__codelineno-5-203" name="__codelineno-5-203"></a>
</span><span id="__span-5-204"><a id="__codelineno-5-204" name="__codelineno-5-204"></a><span class="c1"># Display solution</span>
</span><span id="__span-5-205"><a id="__codelineno-5-205" name="__codelineno-5-205"></a><span class="n">model</span><span class="o">.</span><span class="n">print_solution</span><span class="p">()</span>
</span></code></pre></div></td></tr></table></div>
</details>

<p style='text-align: justify;'>
    &emsp;&emsp;Once you have implemented and solved the model using PyORlib, you will find the solution outputs 
    displayed in the console logs as follows:
</p>

<div class="language-console highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="go">------ MODEL SOLUTION ------</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="go">Objective function:</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="go">        Status: OPTIMAL</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="go">        Value:  1707.5</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="go">Terms:</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="go">        Name: x_1_1 | Type: Variable | Value type: Integer | lb: 0 | ub: inf | val: 50  </span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="go">        Name: x_1_2 | Type: Variable | Value type: Integer | lb: 0 | ub: inf | val: 300  </span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="go">        Name: x_2_1 | Type: Variable | Value type: Integer | lb: 0 | ub: inf | val: 275  </span>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="go">        Name: x_2_3 | Type: Variable | Value type: Integer | lb: 0 | ub: inf | val: 275  </span>
</span></code></pre></div>
</li>

</ol>

<h3 id="recap">Recap<a class="headerlink" href="#recap" title="Permanent link">&para;</a></h3>
<p style='text-align: justify;'>
    &emsp;&emsp;In this tutorial, we explored how to use the PyORlib library to optimize a transportation probleman 
    upgrade from the practical example covered earlier. Throughout our journey, we gained hands-on experience applying
    PyORlib's powerful features to model and solve a real-world optimization challenge of transporting products between
    multiple sources and destinations.
</p>

<p style='text-align: justify;'>
    &emsp;&emsp;Firstly, we introduced the transportation problem and defined the sources, destinations, costs and 
    demands. By structuring our model with PyORlib's definition module classes, we created an organized and readable 
    representation of the transportation model. We also handled data entries and ensured valid input using PyORlib's 
    data structures and validators.
</p>

<p style='text-align: justify;'>
    &emsp;&emsp;With our transportation model built, we then optimized it using PyORlib's techniques to find the 
    lowest-cost flows that meet all demands. The console outputs displayed the solution, providing valuable insights.
    Overall, PyORlib proved to be a flexible and effective tool for tackling this classic optimization problem.
</p>

<p style='text-align: justify;'>
    &emsp;&emsp;In summary, this tutorial equipped us with the skills to leverage PyORlib's full capabilities for a 
    variety of optimization challenges. Armed with our newfound knowledge of modeling, data processing, and 
    optimization, we can now unlock the potential for impactful Python projects across many domains.
</p>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class="timeago" datetime="2024-03-02T19:26:18+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2024-03-02</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3h-2Z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class="timeago" datetime="2024-03-02T19:26:18+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2024-03-02</span>
  </span>

    
    
    
      
  <span class="md-source-file__fact">
    
      
  <span class="md-icon" title="Contributors">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z"/></svg>
  </span>
  <span>GitHub</span>

    
    <nav>
      
        <a href="https://github.com/idapena" class="md-author" title="@idapena">
          
          <img src="https://avatars.githubusercontent.com/u/56054255?v=4&size=72" alt="idapena">
        </a>
      
      
      
    </nav>
  </span>

    
  </aside>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../" class="md-footer__link md-footer__link--prev" aria-label="Previous: Examples">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Examples
              </div>
            </div>
          </a>
        
        
          
          <a href="../../api/" class="md-footer__link md-footer__link--next" aria-label="Next: API Reference">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                API Reference
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 <a href="https://github.com/idapena" target="_blank" rel="idapena">Isaac Da Pena</a>,
<a href="https://github.com/mdapena" target="_blank" rel="mdapena">Manuel Da Pena</a>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/dapensoft" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.indexes", "navigation.top", "navigation.expand", "navigation.footer", "toc.follow", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy", "content.tooltips", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8d2eff1.min.js"></script>
      
        <script src="../../js/timeago.min.js"></script>
      
        <script src="../../js/timeago_mkdocs_material.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>